/***************************************************************************/
/*                                                                         */
/*  This obfuscated code was created by Javascript Obfuscator Free Version.*/
/*  Javascript Obfuscator Free Version can be downloaded here              */
/*  http://javascriptobfuscator.com                                        */
/*                                                                         */
/***************************************************************************/
var _blr_edit=[
    "onerror",//[0]
    "string",
    "window error: ",
    "\x0AURL: ",
    "\x0ALine: ",
    "alert",//[5]
    "top",
    "object",//[7]
    "type",//[8]
    " ",//[9]
    "src",//[10]
    "target",//[11]
    "noname.abc",//[12]
    "",//[13]
    "Bad line number",//[14]
    "File name: ",//[15]
    "Please, load the included file ",//[16]
    "currentScript",//[17]
    "match",//[18]
    "script",//[19]
    "getElementsByTagName",//[20]
    "length",//[21]
    "function",//[22]
    "display",//[23]
    "style",//[24]
    "s",//[25]
    "inline",//[26]
    "value",//[27]
    "src1",//[28]
    "innerHTML",//[29]
    "diverr",
    "<b onclick=\"gotoabc(",
    ",",
    ")\" style=\"cursor: pointer; display: inline-block\">",
    "</b><br/>\x0A",
    "<br/>\x0A",
    "indexOf",
    "beam",
    "slur",
    "tuplet",
    "clef_auto",
    "singleRect",
    "syncRect",
    "single",
    " ondblclick = \'editorAnnot(",
    ")\'",
    "bar",
    "splnum_bar",
    " onclick=\'clickBar(",
    ",event)\'",
    "tempo",
    "lyrics",//[51]
    "xin",
    "<rect ",
    " type=\"",
    "\" v=\"",
    "v","\" istart=\"","\" class=\"abcr _","_\" x=\"","out_svg","sh","\" y=\"","undefined","out_sxsy","a_gch","text","test","\" onclick=\"window.open(\'","\')","\" style=\"cursor: pointer;","meter","clef","clef_type","t","b","c","clef_small","\" width=\"","toFixed","\" height=\"","\"/>\x0A","showSplNumber","apply",".nobrk","editor","setItem","removeItem","getItem","&lt;","<","&gt;",">","&amp;","&",
    "replace",//[95]
    "edit-",".js","loadjs","err-","lang","en","getElementById","visibility","hidden","visible","files","abcfile","name","onloadend","result","source","%%linebreak","UTF-8","readAsText","none",//[115]
    "backgroundColor","#ffd0d0","#80ff80","a_pe","%%abc-include ","s1","\x0A","slice","load","hide","#nodeMenu","getTime","val","#source","modules","img_out","my_img_out","get_abcmodel","Abc","edit","%%bgcolor white","tosvg","message","\x0Aabc2svg tosvg bug - stack:\x0A","stack","abc_end","render","html","#target","\u89e3\u6790\u65f6\u957f\uff1a","log","\u6e32\u67d3\u65f6\u957f\uff1a","abcLoadCball","open","horizontal","100%","auto","border-box","css","scrollClass","\x0Aabc2svg image bug - abort","er","hidefirstmeter","first",".staff_meter",".spl_meter",".spl_meter_mode","bad_nb","focus","setSelectionRange","split","clickAddText","attr","mytext","-----svgMouseDown",".selected_text",".selected_path",".selected_text[type=\'note\']","istart","iend","substring","2","-----svgMouseUp","svgClickCball","showNoteInfo","toLowerCase","tagName","rect","svg","parents","offsetX","offsetY","type:","showNoteInfoCallback","getNote","svgselBan","class","getAttribute","ctxMenu","isCtrl","isEmptyClean","substr","abcr","changePianoBoard","findPosition","loop","stopImmediatePropagation","preventDefault","block","playing","stop",
    "abcplay",//[207]
    "scrollTop","scrollHeight","noteClick","lightoperator",".menu-box","find","menuActive","setselCball","isSelect2play",
    "_",//[217]
    "getElementsByClassName","fillOpacity","blur","fill-opacity","0.4","idx:","  v:","seltxt:","0",".abcr","selectionStart","selectionEnd","forEach","isScrollIntoView","scrollIntoView","\u7cfb\u7edf",
    "title",//[234]
    "data:text/plain;charset=utf-8,",//[235]
    "a",//[236]
    "createElement",//[237]
    "T:.*(?=\\n)",//[238]
    "exec",//[239]
    "trim",//[240]
    "T:",//[241]
    ".xzds",//[242]
    "download",//[243]
    "Hidden Link",//[244]
    "href",//[245]
    "_blank",//[246]
    "onclick",//[247]
    "appendChild",//[248]
    "body",//[249]
    "click",//[250]
    "removeChild",//[251]
    "toString","fontsize","fontSize","px","fontsz","14","set_sfu","sfu","Scc1t2","spvl","pow","set_speed","set_vol","volume","pass","rect[acttime]","my_line","hasOwnProperty","isLeftRight","pageSet","pn","line","absolute",".pagediv","#page","inline-block","position","relative","50%","opacity 1s","showInstrLoading","remove",".loading,.loading-box","errorcheck","errorcheckStartTime","pt",".","querySelectorAll","._","isOnlyNoteLight","note-light","add","classList","start","nearest","isOpen","prevJump","loopJump","time","jump","jumpTime","jumpSeq","jumpToSeq","isJump","splice","errcheck-red errcheck-yellow errcheck-green","removeClass","svg text","parentNode","toUpperCase","G","SVG","nextElementSibling","behavior","smooth","center","lastSvgNode","innerHeight","clientHeight","documentElement","offsetHeight","animVal","height","end","grace","width","x","eq","scrollLeft","canNoAniScroll","canScroll","lastOffsetLeft","animate","notehlightCball","si","ei","play","endplayCball","null","abcPlayWay","get_outputs","set_output","push","abs","cloneNode","replaceChild","stringify","parse","oneBeatTime",
    "clear",//[351]
    "%%play","\u8c31\u5b50\u5185\u5bb9\u4e3a\u7a7a","\x0AX:","lastIndexOf","X",":","\x0AK:","222.js","text/javascript","onload","error loading ",
    "head",//[363]
    "s0","saveas","onmousedown","onmousemove","onmouseup","ontouchstart","ontouchmove","ontouchend","onselect","onbeforeprint","onafterprint","drawpath.js?v=1.1","AudioContext","webkitAudioContext","requestMIDIAccess","msAudioContext","mozAudioContext","play-1","play-1.js?v=1.1","isOncontextmenu","oncontextmenu","selectdiv","pageX","pageY","left","selected_text","addClass","text[type*=\'HD\'][istart=\'","\'],text[type^=\'r\'][istart=\'","\']","rect[istart=\'","show",".noterelli","getData","dataTransfer",
    "isFixedNoteData",//[399]
    "noteData",//[400]
    "g text[type=\'measure\']","each","cursor","default","menu-pressed","#insertWord","srcChangeCount","defaultMusicType","svg[type=\'rect\']","svg[type=\'note_rect\']","svg[type=\'lyric_bg_rect\']","invisibleMeter","error","9","%%indent","%%indent ","%%indent .*\x0A","replaceAll","showfirstmeasure","#","=","vol","Q:.*(?=\\n)","M:.*(?=\\n)","M\\s*:","g","C|","2/2","C","4/4","/","1/","120","Q:","\"","</svg>","is","composer","y","getBBox","getBoundingClientRect","path","d","parent","transform","staff","hd","sqrt","text,use,path","parenttype","outerHTML","note","rest","get_staff_tb","topbar","staffscale","botbar","ts_next","a_meter","p_v","bot","L","my_wmeasure","my_meter","beat_time","time_inter","single_count","s.istart:","  next.istart:","\u65f6\u95f4\u95f4\u9694\uff1a","\u9700\u8981\u52a0\u753b","\u6761\u7ebf,\u95f4\u8ddd\uff1a","dur","<rect time=\"","\".[^<]*/>","get_svg","set_svg","invis","tie_s"," tie=\"1\" ","\" acttime=\"","\" dur=\"","\" ","style=\"fill-opacity:0;fill:#0083d0;\" data-syncrect=\"1\"  data-type=\"","nflags","dots","dot","_single s","\" x=\"","events","data","svg text[type=\'title\']","dblclick","editorStaff","textarea","z-index","append","#T","on","#C","C:","svg text[type=\'composer\']","stopPropagation","path[type=\'decos\']","s_slur","k_slur","custom","active","noteUpdate","pianoImpro","lyric","clearLyric","isNext","next","#editorvDiv","%%voicecombine","editorAnnot----------","editorAnnot","rect[type=\'lyrics\'][istart=\'","a_ly","text[istart=\'","--------type:","tempo_str1","#speedDescInput","#CHANGE_SPEED_div .modal-content","toggle","modal","#CHANGE_SPEED_div","#zsistart","fonttype","[font-size:","#annofontsize","checked","prop","input[name=\'zspos\'][value=\'","\u2206","input[name=\'fonttype\'][value=\'\u2206\']","input[name=\'fonttype\'][value=\'\']","#zsInput","text[type=\'zs\'][istart=\'","#ZS_EDIT_div .modal-content","#ZS_EDIT_div","#xoffset","#yoffset","#gchcoor","input[name=\'fonttype\']:checked","input[name=\'zspos\']:checked","]","{x:",",y:","{y:","}","svg[index=\'","svgIndex","id",
    "selected",//[556]
    "removeAttr",//[557]
    "rect[selected=\'selected\']","svg[type=\'rectnode\']","0.3",
    "nodeline" //[561]
]; 

//_blr_edit[0] = "onerror"
window[_blr_edit[0]] = function(xdp1,xdp2,xdp3){ 

    if( typeof xdp1== "string"){
        alert("xdmsg string: " + _blr_edit[2]+ xdp1+ _blr_edit[3]+ xdp2+ _blr_edit[4]+ xdp3)
    }
    else {
        if( typeof xdp1== "object")
        {
            alert("xdmsg object: " + _blr_edit[2]+ xdp1[_blr_edit[8]]+ _blr_edit[9]+ xdp1[_blr_edit[11]][_blr_edit[10]])
        }
        else 
        {
            alert("xdmsg default: " + _blr_edit[2]+ xdp1)
        }
    };
    return false
};

var dragRect=false;
var global_volume=3;
var svg_selected=false;
var select_position=-1;
var laststopPt=0;
var log=[];
var dellog=[];
var vols= new Array();

var abc_images,abc_fname=[_blr_edit[12],_blr_edit[13]],abc,syms=[],srcend;
var elt_ref={},selx=[0,0],selx_sav=[],play={},pop;
var texts={
    bad_nb:_blr_edit[14],
    fn:_blr_edit[15],
    load:_blr_edit[16]
};
var jsdir=document["currentScript"]?document["currentScript"]["src"]["match"](/.*\//):function(){
    var s=document["getElementsByTagName"]("script");
    return s[s["length"]- 1]["src"]["match"](/.*\//)|| _blr_edit[13]
}();

var drawParam={curNoteLineY:0};

var lastKeyMap={},beamIns=null,drawIns=null;

if( typeof CheckBeamIns== "function"){beamIns=  new CheckBeamIns()};
if( typeof DrawUtil== _blr_edit[22]){drawIns=  new DrawUtil()};
var line0X=-1;
var line1X=-1;
var user={
    read_file:function(_0x24B35){
        elt_ref[_blr_edit[25]+ srcidx][_blr_edit[24]][_blr_edit[23]]= _blr_edit[26];
        return elt_ref[_blr_edit[28]][_blr_edit[27]]
    },
    errmsg:function(_0x24A7B,_0x24BB1,_0x24B73){
        _0x24A7B= clean_txt(_0x24A7B);
        if(_0x24BB1){
            elt_ref[_blr_edit[30]][_blr_edit[29]]+= _blr_edit[31]+ _0x24BB1+ _blr_edit[32]+ _0x24B73+ _blr_edit[33]+ _0x24A7B+ _blr_edit[34]
        }
        else 
        {
            elt_ref[_blr_edit[30]][_blr_edit[29]]+= _0x24A7B+ _blr_edit[35]
        }
    },
    my_img_out:function(_0x24BEF){abc_images+= _0x24BEF},anno_stop:function(_0x24E5B,_0x24D63,_0x24DA1,_0x24F15,_0x24F53,_0x24ED7,_0x24C6B,_0x24D25,_0x24DDF){if([_blr_edit[37],_blr_edit[38],_blr_edit[39]][_blr_edit[36]](_0x24E5B)>= 0){return};if(!_0x24D25[_blr_edit[40]]){syms[_0x24D63]= _0x24D25};srcend[_0x24D63]= _0x24DA1;if(this[_blr_edit[41]]&& user[_blr_edit[42]]== _blr_edit[43]){singleRect2(_0x24E5B,_0x24D63,_0x24DA1,_0x24F15,_0x24F53,_0x24ED7,_0x24C6B,_0x24D25,_0x24DDF)};var _0x24C2D=_blr_edit[44]+ _0x24D63+ _blr_edit[45];if(_0x24E5B== _blr_edit[46]|| _0x24E5B== _blr_edit[47]){_0x24C2D= _blr_edit[48]+ _0x24D63+ _blr_edit[49]};if(2!= musicType|| (0!= musicType&& _0x24E5B== _blr_edit[50])|| _0x24E5B== _blr_edit[51]){if(_0x24D25[_blr_edit[52]]){_0x24F15+= _0x24D25[_blr_edit[52]]};abc[_blr_edit[60]](_blr_edit[53]+ _0x24C2D+ _blr_edit[54]+ _0x24E5B+ _blr_edit[55]+ _0x24D25[_blr_edit[56]]+ _blr_edit[57]+ _0x24D63+ _blr_edit[58]+ _0x24D63+ _blr_edit[59]);if(0!= musicType&& _0x24E5B== _blr_edit[50]){_0x24F15= abc[_blr_edit[61]](tempoMgL+ 10+ _0x24ED7);abc[_blr_edit[64]](_0x24F15,_blr_edit[62],_0x24F53+ ( typeof tempoMgB== _blr_edit[63]?0:tempoMgB))}else {abc[_blr_edit[64]](_0x24F15,_blr_edit[62],_0x24F53)};if(_0x24D25[_blr_edit[65]]){for(var _0x24CA9=0;_0x24CA9< _0x24D25[_blr_edit[65]][_blr_edit[21]];_0x24CA9++){var _0x24E1D=_0x24D25[_blr_edit[65]][_0x24CA9][_blr_edit[66]];var _0x24E99=/url\((.*)\)/;if(_0x24E99[_blr_edit[67]](_0x24E1D)){var _0x24CE7=_0x24E1D[_blr_edit[18]](_0x24E99);if(_0x24CE7!= null){var _0x24AB9=_0x24CE7[1];abc[_blr_edit[60]](_blr_edit[68]+ _0x24AB9+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70])}}}};if(_0x24E5B== _blr_edit[50]){if(Q_url!= _blr_edit[13]){abc[_blr_edit[60]](_blr_edit[68]+ Q_url+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70]);Q_url= _blr_edit[13]}};if(_0x24E5B== _blr_edit[71]){if(M_url!= _blr_edit[13]){abc[_blr_edit[60]](_blr_edit[68]+ M_url+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70]);M_url= _blr_edit[13]}};if(_0x24E5B== _blr_edit[72]){if(_0x24D25[_blr_edit[73]]== _blr_edit[74]){if(treble_url!= _blr_edit[13]){abc[_blr_edit[60]](_blr_edit[68]+ treble_url+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70]);treble_url= _blr_edit[13]}}else {if(_0x24D25[_blr_edit[73]]== _blr_edit[75]){if(bass_url!= _blr_edit[13]){abc[_blr_edit[60]](_blr_edit[68]+ bass_url+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70]);bass_url= _blr_edit[13]}}else {if(_0x24D25[_blr_edit[73]]== _blr_edit[76]){if(_0x24D25[_blr_edit[77]]){if(tenor_url!= _blr_edit[13]){abc[_blr_edit[60]](_blr_edit[68]+ tenor_url+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70]);tenor_url= _blr_edit[13]}}else {if(alto_url!= _blr_edit[13]){abc[_blr_edit[60]](_blr_edit[68]+ alto_url+ _blr_edit[69]);abc[_blr_edit[60]](_blr_edit[70]);alto_url= _blr_edit[13]}}}}}};abc[_blr_edit[60]](_blr_edit[78]+ _0x24ED7[_blr_edit[79]](2)+ _blr_edit[80]+ abc[_blr_edit[61]](_0x24C6B)[_blr_edit[79]](2)+ _blr_edit[81])};if(this[_blr_edit[82]]){this[_blr_edit[82]][_blr_edit[83]](this,arguments)}},page_format:true,abcPlayWay:1,abcLoadCball:null,endplayCball:null,setselCball:null,startplayCball:null,isScrollIntoView:false,isOncontextmenu:true,svgselBan:false,isCtrl:false,isShift:false,lightoperator:null,findPosition:null,changePianoBoard:null,showSplNumber:null,notehlightCball:null,playTimeout:null,errorcheck:false,errorcheckStartTime:-1,noteClick:null,isBanOutput:false,currIstart:-1,timeouts:[],showInstrLoading:false,delay:{preNodeNum:0,firstBeatNum:0,time:0,onlyPreNode:0,onlyBeat:0},notehlightDelay:null,isSelect2play:false,noteData:null,isFixedNoteData:false,clearNoteData:clearNoteData,syncRect:_blr_edit[13],singleRect:null,isOnlyNoteLight:false,oneBeatTime:0,horizontal:{open:false,lastOffsetLeft:0,scrollClass:_blr_edit[84],canScroll:true,canNoAniScroll:true},showNoteInfo:false,showNoteInfoCallback:null,editorStaff:false,pageSet:{isLeftRight:false},editorPage:false,noteUpdate:{active:false,istart:0,lyric:null,line:0,isNext:false},loopJump:{isOpen:false,jump:[],time:0.5},prevJump:{isOpen:false,jump:[],lastSvgNode:null},midiInput:false,tmpTransposition:0,tmpInstru:-1,tmpInstruLoading:false,lastTmpInstru:0,tmpSpeed:1,render:true,isEmptyClean:true,svgClickCball:null,editorAnnot:false,mode:_blr_edit[85],smallVersion:false,lastEditLyricIstart:-1,showLyricEditor:false,numStaffCanDrag:false,numStaffiIndent:-10,defaultMusicType:0,srcChangeCount:0,copyNoteInfo:{s:null,copyNoteStr:_blr_edit[13]},pasteNote:false,clickAddText:false,moveText:false,copyLyric:false,hidescore:false,playNoteChangMing:false},srcidx=0;var editSplnum=user;
    
    function storage(_0x278BD,_0x26655,_0x2887B){try{_0x278BD= _0x278BD?localStorage:sessionStorage;if(!_0x278BD){return};if(_0x2887B){_0x278BD[_blr_edit[86]](_0x26655,_0x2887B)}else {if(_0x2887B=== 0){_0x278BD[_blr_edit[87]](_0x26655)}else {return _0x278BD[_blr_edit[88]](_0x26655)}}}catch(e){}}function clean_txt(_0x27AAD){return _0x27AAD[_blr_edit[95]](/<|>|&.*?;|&/g,function(_0x24B73){switch(_0x24B73){case _blr_edit[90]:return _blr_edit[89];case _blr_edit[92]:return _blr_edit[91];case _blr_edit[94]:return _blr_edit[93]};return _0x24B73})}function loadlang(_0x2A50F,_0x2A54D){abc2svg[_blr_edit[98]](_blr_edit[96]+ _0x2A50F+ _blr_edit[97],function(){loadtxt()});abc2svg[_blr_edit[98]](_blr_edit[99]+ _0x2A50F+ _blr_edit[97]);if(!_0x2A54D){storage(true,_blr_edit[100],_0x2A50F== _blr_edit[101]?0:_0x2A50F)}}function popshow(_0x2B12B,_0x2B169){var _0x27AEB=document[_blr_edit[102]](_0x2B12B);if(pop){if(pop== _0x27AEB){_0x2B169= false}else {pop[_blr_edit[24]][_blr_edit[103]]= _blr_edit[104]}};_0x27AEB[_blr_edit[24]][_blr_edit[103]]= _0x2B169?_blr_edit[105]:_blr_edit[104];pop= _0x2B169?_0x27AEB:null}function loadtune(){var _0x2A58B=document[_blr_edit[102]](_blr_edit[107])[_blr_edit[106]];if(_0x2A58B&& _0x2A58B[_blr_edit[21]]){abc_fname[srcidx]= _0x2A58B[0][_blr_edit[108]];var _0x28593= new FileReader;_0x28593[_blr_edit[109]]= function(_0x27B67){var _0x24CA9,_0x25887,_0x2A5C9,_0x28CD7=_0x27B67[_blr_edit[11]][_blr_edit[110]],_0x24D25=srcidx== 0?_blr_edit[111]:_blr_edit[28];if(_0x28CD7[_blr_edit[36]](_blr_edit[112])< 0){_0x28CD7= addLineBreak(_0x28CD7)};elt_ref[_0x24D25][_blr_edit[27]]= _0x28CD7;elt_ref[_blr_edit[25]+ srcidx][_blr_edit[27]]= abc_fname[srcidx];src_change()};_0x28593[_blr_edit[114]](_0x2A58B[0],_blr_edit[113])}}function selsrc(_0x2A35D){if(_0x2A35D== srcidx){return};var _0x2BA21=srcidx?_blr_edit[10]+ srcidx:_blr_edit[111],_0x25469=_0x2A35D?_blr_edit[10]+ _0x2A35D:_blr_edit[111];elt_ref[_0x2BA21][_blr_edit[24]][_blr_edit[23]]= _blr_edit[115];elt_ref[_0x25469][_blr_edit[24]][_blr_edit[23]]= _blr_edit[26];elt_ref[_blr_edit[25]+ srcidx][_blr_edit[24]][_blr_edit[116]]= _blr_edit[117];elt_ref[_blr_edit[25]+ _0x2A35D][_blr_edit[24]][_blr_edit[116]]= _blr_edit[118];srcidx= _0x2A35D}function render(_0x2B1E5){var _0x24CA9,_0x25887,_0x28CD7=document[_blr_edit[102]](_blr_edit[111])[_blr_edit[27]];play[_blr_edit[119]]= null;if(!_0x28CD7){_0x28CD7= document[_blr_edit[102]](_blr_edit[111])[_blr_edit[27]];elt_ref[_blr_edit[111]][_blr_edit[27]]= _0x28CD7};if(!_0x28CD7){return};_0x24CA9= _0x28CD7[_blr_edit[36]](_blr_edit[120]);if(_0x24CA9>= 0){var _0x2A5C9=elt_ref[_blr_edit[121]];if(!_0x2A5C9[_blr_edit[27]]){_0x2A5C9[_blr_edit[24]][_blr_edit[23]]= _blr_edit[26];_0x25887= _0x28CD7[_blr_edit[36]](_blr_edit[122],_0x24CA9);_0x2A5C9[_blr_edit[27]]= _0x28CD7[_blr_edit[123]](_0x24CA9+ 14,_0x25887);selsrc(1);window[_blr_edit[6]][_blr_edit[5]](texts[_blr_edit[124]]+ _0x2A5C9[_blr_edit[27]]);return}};elt_ref[_blr_edit[30]][_blr_edit[29]]= _blr_edit[13];_0x28CD7= null;render2(_0x2B1E5)}var tmpstr=_blr_edit[13];var renderTimeout=-1;function render2(_0x2B1E5){$(_blr_edit[126])[_blr_edit[125]]();var _0x2B2DD=( new Date)[_blr_edit[127]]();var _0x28CD7=$(_blr_edit[129])[_blr_edit[128]]();if(!abc2svg[_blr_edit[130]][_blr_edit[124]](_0x28CD7+ elt_ref[_blr_edit[28]][_blr_edit[27]],render2)){_0x28CD7= null;return};hasTempo= false;lastMeter= _blr_edit[13];lastTone= _blr_edit[13];lastKeyMap= {};sameLineDim= {};user[_blr_edit[131]]= user[_blr_edit[132]];user[_blr_edit[133]]= null;if( typeof showSplNumber== _blr_edit[22]){user[_blr_edit[82]]= showSplNumber};if( typeof singleRect== _blr_edit[22]){user[_blr_edit[41]]= singleRect2};abc=  new abc2svg[_blr_edit[134]](user);abc_images= _blr_edit[13];abc[_blr_edit[137]](_blr_edit[135],_blr_edit[136]);srcend= [];syms= [];try{abc[_blr_edit[137]](abc_fname[0],_0x28CD7)}catch(e){window[_blr_edit[6]][_blr_edit[5]](e[_blr_edit[138]]+ _blr_edit[139]+ e[_blr_edit[140]]);return};abc2svg[_blr_edit[141]]();try{var _0x2B261= new Array();var _0x2B31B=( new Date)[_blr_edit[127]]();if(user[_blr_edit[142]]){if(editSvgLineIndex!=  -1){$(_blr_edit[144])[_blr_edit[143]](abc_images)}else {$(_blr_edit[144])[_blr_edit[143]](abc_images)}};clearTimeout(renderTimeout);renderSuccess();if(_0x2B1E5){_0x2B1E5()};barVoiceNumArr= [];abc_images= null;var _0x2B29F=( new Date)[_blr_edit[127]]();console[_blr_edit[146]](_blr_edit[145],(_0x2B29F- _0x2B2DD));var _0x2B223=( new Date)[_blr_edit[127]]();console[_blr_edit[146]](_blr_edit[147],(_0x2B223- _0x2B31B));if(user[_blr_edit[148]]){user[_blr_edit[148]]()};if(user[_blr_edit[150]][_blr_edit[149]]){$(user[_blr_edit[150]][_blr_edit[155]])[_blr_edit[154]]({width:_blr_edit[151],overflow:_blr_edit[152],'box-sizing':_blr_edit[153]})}}catch(e){window[_blr_edit[6]][_blr_edit[5]](e[_blr_edit[138]]+ _blr_edit[156]);return};document[_blr_edit[102]](_blr_edit[157])[_blr_edit[24]][_blr_edit[23]]= elt_ref[_blr_edit[30]][_blr_edit[29]]?_blr_edit[26]:_blr_edit[115];reselect();if(_0x28CD7[_blr_edit[36]](_blr_edit[158])>  -1){for(var _0x24CA9=0;_0x24CA9< 16;_0x24CA9++){$(_blr_edit[160]+ _0x24CA9)[_blr_edit[159]]()[_blr_edit[125]]()};$(_blr_edit[161])[_blr_edit[159]]()[_blr_edit[125]]();$(_blr_edit[162])[_blr_edit[159]]()[_blr_edit[125]]()};_0x28CD7= null}function gotoabc(_0x24BB1,_0x24B73){var _0x24D25=elt_ref[_blr_edit[111]],_0x2A35D=0;selsrc(0);while(--_0x24BB1>= 0){_0x2A35D= _0x24D25[_blr_edit[27]][_blr_edit[36]](_blr_edit[122],_0x2A35D)+ 1;if(_0x2A35D<= 0){window[_blr_edit[6]][_blr_edit[5]](texts[_blr_edit[163]]);_0x2A35D= _0x24D25[_blr_edit[27]][_blr_edit[21]]- 1;_0x24B73= 0;break}};_0x24B73= Number(_0x24B73)+ _0x2A35D;_0x24D25[_blr_edit[164]]();_0x24D25[_blr_edit[165]](_0x24B73,srcend[_0x24B73]|| _0x24B73+ 1)}function findLineNumByIndex(_0x28CD7,_0x25143){var _0x28D15=_0x28CD7[_blr_edit[166]](_blr_edit[122]);var _0x28C99=0;for(var _0x24CA9=0;_0x24CA9< _0x28D15[_blr_edit[21]];_0x24CA9++){_0x28C99+= _0x28D15[_0x24CA9][_blr_edit[21]]+ 1;if(_0x28C99> _0x25143){return _0x24CA9}};return 0}var firstv=0;function getPt(_0x29E47){var _0x29E09=getNoteData();if(_0x29E09!= null){for(var _0x24CA9=0;_0x24CA9< _0x29E09[_blr_edit[21]];_0x24CA9++){var _0x29DCB=_0x29E09[_0x24CA9];if(_0x29DCB[0]== _0x29E47){return _0x29DCB[1]}}};return 0}function svgMouseDown(_0x27B67){if(user[_blr_edit[167]]){console[_blr_edit[146]](_0x27B67[_blr_edit[11]]);if($(_0x27B67[_blr_edit[11]])[_blr_edit[168]](_blr_edit[8])== _blr_edit[169]){return false};addEditorText(_0x27B67);return false};if($(_0x27B67[_blr_edit[11]])[_blr_edit[168]](_blr_edit[8])== _blr_edit[46]|| $(_0x27B67[_blr_edit[11]])[_blr_edit[168]](_blr_edit[8])== _blr_edit[47]){return};console[_blr_edit[146]](_blr_edit[170]);if(graph_update){graphMouseDownHandle(_0x27B67);if($(_blr_edit[171])[_blr_edit[21]]> 0|| $(_blr_edit[172])[_blr_edit[21]]> 0){if(musicType== 2){var _0x26C25=getSelectText(_blr_edit[111]);if(_0x26C25== _blr_edit[13]){var _0x2BD85=$(_blr_edit[173]);if(_0x2BD85[_blr_edit[21]]> 0){var _0x2BD47=$(_0x2BD85)[_blr_edit[168]](_blr_edit[174]);var _0x24D25=syms[_0x2BD47];if(_0x24D25){var _0x28CD7=$(_blr_edit[129])[_blr_edit[128]]();_0x26C25= _0x28CD7[_blr_edit[176]](_0x24D25[_blr_edit[174]],_0x24D25[_blr_edit[175]])}}};if(_0x26C25!= _blr_edit[13]){dragNumNoteFlag= true}};return false}else {return}}}function svgMouseMove(_0x27B67){if(graph_update){graphMouseMoveHandle(_0x27B67);return false};if(musicType== _blr_edit[177]){var _0x26C25=getSelectText(_blr_edit[111]);if(_0x26C25!= _blr_edit[13]&& dragNumNoteFlag){try{numStaffDrag(_0x27B67)}catch(e){console[_blr_edit[146]](e)}};return}}function svgMouseUp(_0x27B67){console[_blr_edit[146]](_blr_edit[178]);if(graph_update){graphMouseUpHandle(_0x27B67);return}}function svgsel(_0x27B67){ typeof (user[_blr_edit[179]])== _blr_edit[22]&& user[_blr_edit[179]]();if(graph_update){return};if(draw_editor){return};if(user[_blr_edit[180]]){var _0x29FBB=_0x27B67[_blr_edit[11]];if(_0x29FBB[_blr_edit[182]][_blr_edit[181]]()== _blr_edit[183]){_0x29FBB= $(_0x29FBB)[_blr_edit[185]](_blr_edit[184])};var _0x24E5B=findNearElement(_0x29FBB,_0x27B67[_blr_edit[186]]/ scale,_0x27B67[_blr_edit[187]]/ scale);console[_blr_edit[146]](_blr_edit[188],_0x24E5B);if( typeof (user[_blr_edit[189]])== _blr_edit[22]){user[_blr_edit[189]](_0x24E5B)};return};if( typeof user[_blr_edit[190]]== _blr_edit[22]){user[_blr_edit[190]](_0x27B67)};if(user[_blr_edit[191]]){return false};var _0x287FF=_0x27B67[_blr_edit[11]],_0x28783=_0x287FF[_blr_edit[193]](_blr_edit[192]),_0x287C1=document[_blr_edit[102]](_blr_edit[194]);if(!user[_blr_edit[195]]&& Number(getAbcistart(_0x28783))!= selx[0] && (user[_blr_edit[196]]|| _0x28783&& _0x28783[_blr_edit[197]](0,4)== _blr_edit[198])){clearOldSelect()};svg_selected= true;if(user[_blr_edit[199]]){setTimeout(function(){changePianoBoard(_blr_edit[111],getKByPos(_blr_edit[111]))},500)};if(user[_blr_edit[200]]){findPosition(_0x27B67,_0x287FF)};play[_blr_edit[201]]= false;_0x27B67[_blr_edit[202]]();_0x27B67[_blr_edit[203]]();if(_0x287C1&& _0x287C1[_blr_edit[24]][_blr_edit[23]]== _blr_edit[204]){_0x287C1[_blr_edit[24]][_blr_edit[23]]= _blr_edit[115];return false};if(play[_blr_edit[205]]&&  !play[_blr_edit[206]]){play[_blr_edit[206]]=  -1;play[_blr_edit[207]][_blr_edit[206]]();return false};select_position=  -1;if(_0x28783&& _0x28783[_blr_edit[197]](0,4)== _blr_edit[198]){setsel(0,Number(getAbcistart(_0x28783)));select_position= Number(getAbcistart(_0x28783));laststop= select_position;play[_blr_edit[206]]= 0;var _0x2BDC3=document[_blr_edit[102]](_blr_edit[111]);var _0x24A3D=findLineNumByIndex($(_blr_edit[129])[_blr_edit[128]](),Number(getAbcistart(_0x28783)));_0x2BDC3[_blr_edit[208]]= (_0x24A3D* _0x2BDC3[_blr_edit[209]])/ $(_blr_edit[129])[_blr_edit[128]]()[_blr_edit[166]](_blr_edit[122])[_blr_edit[21]]- 10}else {setsel(0,0)};if(user[_blr_edit[210]]){user[_blr_edit[210]](select_position)};setsel(1,0);try{if(user[_blr_edit[211]]){lightoperator()};getSelectNotePosition(_blr_edit[111]);var _0x2B587=getSelectText(_blr_edit[111]);var _0x2BE01=/V:\s*1/;var _0x2BE3F=/V:\s*2/;if(_0x2BE01[_blr_edit[67]](_0x2B587)){currInputVoice= 1}else {if(_0x2BE3F[_blr_edit[67]](_0x2B587)){currInputVoice= 2}}}catch(e){console[_blr_edit[146]](e)};if(!$(_0x27B67[_blr_edit[11]])[_blr_edit[213]](_blr_edit[212])[_blr_edit[21]]> 0 &&  typeof content_vue!= _blr_edit[63]){content_vue[_blr_edit[214]]= _blr_edit[13]}}function setsel(_0x2A35D,_0x2887B,seltxt){if(!user[_blr_edit[195]]){firstv= _0x2887B};var _0x24CA9,_0x2A77B,_0x24D25,_0x2BB57=selx[_0x2A35D];if(_0x2887B== _0x2BB57){if(user[_blr_edit[215]]&& _0x2887B> 0){_0x24D25= elt_ref[_blr_edit[111]];user[_blr_edit[215]](_0x24D25,_0x2887B,true)};if(user[_blr_edit[216]]){return}};if(_0x2BB57){};if(_0x2887B){_0x2A77B= document[_blr_edit[218]](_blr_edit[217]+ _0x2887B+ _blr_edit[217]);if(_0x2A77B[0]&& _0x2A77B[0][_blr_edit[24]]){_0x2A77B[0][_blr_edit[24]][_blr_edit[219]]= 0.4}};selx[_0x2A35D]= _0x2887B;if(_0x2A35D!= 0|| seltxt||  !_0x2887B){return};_0x24D25= elt_ref[_blr_edit[111]];selsrc(0);if(firstv< srcend[_0x2887B]){_0x24D25[_blr_edit[165]](firstv,srcend[_0x2887B])}else {_0x24D25[_blr_edit[165]](_0x2887B,srcend[firstv])};_0x24D25[_blr_edit[220]]();_0x24D25[_blr_edit[164]]();if(user[_blr_edit[215]]&& _0x2887B> 0){user[_blr_edit[215]](_0x24D25,_0x2887B)}}function setselAll(_0x251FD,_0x2BB95){$(_blr_edit[183])[_blr_edit[154]](_blr_edit[221],_blr_edit[222]);return;console[_blr_edit[146]](_blr_edit[223],idx,_blr_edit[224],v,_blr_edit[225],seltxt);if(!user[_blr_edit[195]]){firstv= v};var _0x24CA9,_0x2A77B,_0x24D25,_0x2BB57=selx[idx];if(v== _0x2BB57){if(user[_blr_edit[215]]&& v> 0){_0x24D25= elt_ref[_blr_edit[111]];user[_blr_edit[215]](_0x24D25,v,true)};if(user[_blr_edit[216]]){return}};if(_0x2BB57){};if(v){_0x2A77B= document[_blr_edit[218]](_blr_edit[217]+ v+ _blr_edit[217]);_0x24CA9= _0x2A77B[_blr_edit[21]];while(--_0x24CA9>= 0){_0x2A77B[_0x24CA9][_blr_edit[24]][_blr_edit[219]]= 0.4}};selx[idx]= v;if(idx!= 0|| seltxt||  !v){return};_0x24D25= elt_ref[_blr_edit[111]];selsrc(0);if(firstv< srcend[v]){_0x24D25[_blr_edit[165]](firstv,srcend[v])}else {_0x24D25[_blr_edit[165]](v,srcend[firstv])};_0x24D25[_blr_edit[220]]();_0x24D25[_blr_edit[164]]();if(user[_blr_edit[215]]&& v> 0){user[_blr_edit[215]](_0x24D25,v)}}function clearOldSelect(){$(_blr_edit[227])[_blr_edit[154]](_blr_edit[221],_blr_edit[226])}function reselect(_0x27B67){var _0x2B587=getSelectText(_blr_edit[111]);if(_0x2B587!= _blr_edit[13]){seltxt()}}function seltxt(_0x27B67){if(svg_selected){svg_selected= false;return};if(!user[_blr_edit[195]]&& user[_blr_edit[196]]){clearOldSelect()};var _0x24D25,_0x2A77B,_0x27AEB=0,_0x287FF=elt_ref[_blr_edit[111]],_0x24D63=_0x287FF[_blr_edit[228]],_0x29F01=_0x287FF[_blr_edit[229]];if(_0x24D63== _0x29F01){return};play[_blr_edit[201]]= false;if(srcend){srcend[_blr_edit[230]](function(_0x2BA5F,_0x2BA9D){if(!_0x24D25){if(_0x2BA9D>= _0x24D63){_0x24D25= _0x2BA9D}}else {if(_0x2BA5F<= _0x29F01){_0x27AEB= _0x2BA9D}}})};if(!_0x24D25){return};if(user[_blr_edit[216]]){if(selx[0]!= _0x24D25){setsel(0,_0x24D25,true)};if(selx[1]!= _0x27AEB){setsel(1,_0x27AEB)}}else {if(_0x24D25== getFirstSyms()[_blr_edit[174]]&& _0x27AEB== syms[_blr_edit[21]]- 1){setselAll(_0x24D25,_0x27AEB)}else {setsel(1,_0x24D25);for(var _0x24CA9=_0x24D25;_0x24CA9<= _0x27AEB;_0x24CA9++){setsel(1,_0x24CA9)}}};_0x2A77B= document[_blr_edit[218]](_blr_edit[217]+ _0x24D25+ _blr_edit[217]);if(_0x2A77B[0]&& user[_blr_edit[231]]){_0x2A77B[0][_blr_edit[232]]()}}function getFirstSyms(){for(var _0x24CA9=0,_0x25903=syms[_blr_edit[21]];_0x24CA9< _0x25903;_0x24CA9++){if(syms[_0x24CA9]){return syms[_0x24CA9]}};return}

function saveas(){
    var s=document[_blr_edit[234]][_blr_edit[95]](_blr_edit[233],_blr_edit[13]);    

    var xdSrc=srcidx== 0?_blr_edit[111]:_blr_edit[28]; //"source":"src1"

    var a=elt_ref[xdSrc][_blr_edit[27]]; //_blr_edit[27] = "value"
    var b=_blr_edit[235]+ encodeURIComponent(a);
    var c=document[_blr_edit[237]](_blr_edit[236]);// create <a></a>
    var d= new RegExp(_blr_edit[238]);
    
    var e=d[_blr_edit[239]](a); //d.exec(a);
    if(e){
        //trim "T:"
        s+= _blr_edit[217]+ e[0][_blr_edit[95]](_blr_edit[241],_blr_edit[13])[_blr_edit[240]]()
    };
    s+= _blr_edit[242];//".xzds"
    elt_ref[_blr_edit[25]+ srcidx][_blr_edit[27]]= c[_blr_edit[243]]= abc_fname[srcidx]= s;
    c.innerHTML= _blr_edit[244];
    c.href= b;
    c.target= _blr_edit[246];//"_blank"
    c.onclick= destroyClickedElement;
    c.style.display = "none";
    document.body.appendChild(c);
    c.click()
}
    
    
function destroyClickedElement(_0x27B67){
    document[_blr_edit[249]][_blr_edit[251]](_0x27B67[_blr_edit[11]])
}

function setfont(){var _0x288F7=document[_blr_edit[102]](_blr_edit[253])[_blr_edit[27]][_blr_edit[252]]();elt_ref[_blr_edit[111]][_blr_edit[24]][_blr_edit[254]]= elt_ref[_blr_edit[28]][_blr_edit[24]][_blr_edit[254]]= _0x288F7+ _blr_edit[255];storage(true,_blr_edit[256],_0x288F7== _blr_edit[257]?0:_0x288F7)}function set_sfu(_0x2887B){play[_blr_edit[207]][_blr_edit[258]](_0x2887B);storage(true,_blr_edit[259],_0x2887B== _blr_edit[260]?0:_0x2887B)}function set_speed(_0x2BADB){var _0x2BB19=document[_blr_edit[102]](_blr_edit[261]),_0x2887B=Math[_blr_edit[262]](3,(_0x2BADB- 10)* 0.1);play[_blr_edit[207]][_blr_edit[263]](_0x2887B);_0x2BB19[_blr_edit[29]]= _0x2887B}function set_vol(_0x2887B){play[_blr_edit[207]][_blr_edit[264]](_0x2887B);storage(true,_blr_edit[265],_0x2887B== 0.7?0:_0x2887B[_blr_edit[79]](2))}var cnt=0,timeEnd=0,currTime=0;var lastLightLine=-1;var lastPage=-1;var currPage=-1;var nextPage=-1;var isPageLeft=true;function resetPageSeq(){if(pageSeq){for(var _0x24CA9=0;_0x24CA9< pageSeq[_blr_edit[21]];_0x24CA9++){pageSeq[_0x24CA9][_blr_edit[266]]= false}}}function notehlight(_0x24CA9,_0x2A96B,_0x2AAA1,_0x2A73D,_0x2AADF,_0x2A7F7,_0x2AA25,_0x2AA63){if(syms=== undefined){return};var _0x25751;if(_0x2A73D){_0x25751= syms[_0x2A73D]}else {_0x25751= syms[_0x24CA9]};if(_0x2A96B&& user[_blr_edit[42]]== _blr_edit[43]){$(_0x2AADF)[_blr_edit[213]](_blr_edit[267])[_blr_edit[154]](_blr_edit[219],0)};if(_0x2A96B&& _0x25751&& _0x25751[_blr_edit[269]](_blr_edit[268])&& (_0x25751[_blr_edit[8]]== 10|| _0x25751[_blr_edit[8]]== 8)&&  typeof pageSeq!= _blr_edit[63]&& user[_blr_edit[271]][_blr_edit[270]]){if(lastLightLine!= _0x25751[_blr_edit[268]]){lastLightLine= _0x25751[_blr_edit[268]];var _0x2A8B1=user[_blr_edit[271]][_blr_edit[270]];for(var _0x26655=0,_0x25903=pageSeq[_blr_edit[21]];_0x26655< _0x25903;_0x26655++){var _0x2A9E7=pageSeq[_0x26655];if(_0x26655== 0){isPageLeft= true}else {if(_0x2A9E7[_blr_edit[272]]!= pageSeq[_0x26655- 1][_blr_edit[272]]){isPageLeft=  !isPageLeft}};if(_0x2A9E7[_blr_edit[273]]== _0x25751[_blr_edit[268]]&& _0x2A9E7[_blr_edit[266]]== false){_0x2A9E7[_blr_edit[266]]= true;if(currPage== _0x2A9E7[_blr_edit[272]]){break};$(_blr_edit[275])[_blr_edit[154]]({"opacity":_blr_edit[226],"position":_blr_edit[274]});var $currPage=$(_blr_edit[276]+ _0x2A9E7[_blr_edit[272]]);$currPage[_blr_edit[154]](_blr_edit[23],_0x2A8B1?_blr_edit[277]:_blr_edit[204]);if(_0x2A8B1){$(_blr_edit[144])[_blr_edit[154]](_blr_edit[278],_blr_edit[279]);$currPage[_blr_edit[154]]({'position':_blr_edit[274],'top':0,'left':isPageLeft?0:_blr_edit[280],'opacity':1,'transition':_blr_edit[281]})};currPage= _0x2A9E7[_blr_edit[272]];nextPage= null;if(_0x2A8B1){for(var _0x24BB1=_0x26655+ 1,_0x25903=pageSeq[_blr_edit[21]];_0x24BB1< _0x25903;_0x24BB1++){if(pageSeq[_0x24BB1][_blr_edit[272]]!= currPage){nextPage= pageSeq[_0x24BB1][_blr_edit[272]];break}}}else {nextPage= pageSeq[_0x26655+ 1]&& pageSeq[_0x26655+ 1][_blr_edit[272]]};if(nextPage){var $nextPage=$(_blr_edit[276]+ nextPage);$nextPage[_blr_edit[154]](_blr_edit[23],_0x2A8B1?_blr_edit[277]:_blr_edit[204]);if(_0x2A8B1){$nextPage[_blr_edit[154]]({'position':_blr_edit[274],'top':0,'left':!isPageLeft?0:_blr_edit[280],'opacity':1,'transition':_blr_edit[281]})};console[_blr_edit[146]](_0x2A9E7,$nextPage);break}else {$(_blr_edit[276]+ pageSeq[_0x26655- 1][_blr_edit[272]])[_blr_edit[154]]({'position':_blr_edit[274],'top':0,'left':!isPageLeft?0:_blr_edit[280],'opacity':1,'transition':_blr_edit[281]})}}}}};var _0x2A9A9=_0x24CA9;if(_0x2A73D!== undefined){_0x2A9A9= _0x2A73D};if(user[_blr_edit[282]]){$(_blr_edit[284])[_blr_edit[283]]()};if(user[_blr_edit[285]]&& user[_blr_edit[286]]==  -1&& _0x2A96B){user[_blr_edit[286]]= ( new Date)[_blr_edit[127]]()};laststop= _0x2A9A9;laststopPt= _0x2AAA1;if(play[_blr_edit[206]]){if(_0x2A96B){if(play[_blr_edit[206]]< 0){play[_blr_edit[206]]= _0x2A9A9;play[_blr_edit[287]]= _0x2AAA1};return};if(_0x24CA9== selx[1]){return}};if(cnt== 0){timeEnd=  new Date()[_blr_edit[127]]()};if(_0x2A96B&& user[_blr_edit[42]]== _blr_edit[43]){if(cnt> 0){currTime=  new Date()[_blr_edit[127]]()}};if(user[_blr_edit[42]]== _blr_edit[43]){};cnt++;var _0x2A77B,_0x2A6FF;if(user[_blr_edit[42]]){if(/^\d+/[_blr_edit[67]](_0x24CA9)){_0x2A77B= document[_blr_edit[218]](_0x24CA9)}else {if(_0x24CA9!=  -1){if(_0x2AADF!== undefined){_0x2A77B= $(_0x2AADF)[_blr_edit[213]](_blr_edit[288]+ _0x24CA9)}else {_0x2A77B= document[_blr_edit[289]](_blr_edit[288]+ _0x24CA9)}}else {_0x2A77B=  new Array()}}}else {if(_0x2AADF!== undefined){_0x2A77B= $(_0x2AADF)[_blr_edit[213]](_blr_edit[290]+ _0x24CA9+ _blr_edit[217])}else {_0x2A77B= document[_blr_edit[218]](_blr_edit[217]+ _0x24CA9+ _blr_edit[217])}};var _0x2A7B9=_0x2A77B[_blr_edit[21]];if((animation&&  !user[_blr_edit[291]])|| (user[_blr_edit[42]]== _blr_edit[43]&& (currTime- timeEnd)> 100)){if(_0x2A7B9> 0){if(musicType== 1|| musicType== 2){for(var _0x24F15=0;_0x24F15< _0x2A77B[_blr_edit[21]];_0x24F15++){_0x2A6FF= _0x2A77B[_0x24F15];if(!play[_blr_edit[206]]){if(_0x2A6FF[_blr_edit[182]]=== _blr_edit[183]){if(_0x2A96B){if(!_0x2A7F7){_0x2A6FF[_blr_edit[24]][_blr_edit[219]]= 0.4}}else {_0x2A6FF[_blr_edit[24]][_blr_edit[219]]= 0}}};if(_0x2A96B){_0x2A6FF[_blr_edit[294]][_blr_edit[293]](_blr_edit[292])}else {_0x2A6FF[_blr_edit[294]][_blr_edit[283]](_blr_edit[292])}}}else {_0x2A6FF= _0x2A77B[0];if(!play[_blr_edit[206]]){if(_0x2A6FF[_blr_edit[182]]=== _blr_edit[183]){if(_0x2A96B){if(!_0x2A7F7){_0x2A6FF[_blr_edit[24]][_blr_edit[219]]= 0.4}}else {_0x2A6FF[_blr_edit[24]][_blr_edit[219]]= 0}}};if(_0x2A96B){_0x2A6FF[_blr_edit[294]][_blr_edit[293]](_blr_edit[292])}else {_0x2A6FF[_blr_edit[294]][_blr_edit[283]](_blr_edit[292])}}}};timeEnd= currTime;if(user[_blr_edit[231]]&&  !user[_blr_edit[271]][_blr_edit[270]]&& _0x2A96B&& _0x2A7B9> 0){_0x2A6FF= _0x2A77B[0];var _0x2A7F7={behavior:_blr_edit[152],block:_blr_edit[295],inline:_blr_edit[296]};var _0x2A8EF=user[_blr_edit[298]][_blr_edit[297]]?false:true;if(user[_blr_edit[299]][_blr_edit[297]]&& user[_blr_edit[299]][_blr_edit[300]]> 0&& user[_blr_edit[299]][_blr_edit[301]]&& user[_blr_edit[299]][_blr_edit[301]][_blr_edit[21]]> 0){if((_0x2AAA1>= user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[302]]&& _0x2AAA1- user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[302]]< 4)|| _0x2A9A9== user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[303]]){var _0x2AB5B=document[_blr_edit[218]](_blr_edit[217]+ user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[304]]+ _blr_edit[217]);if(_0x2AB5B[_blr_edit[21]]> 0){_0x2A6FF= _0x2AB5B[0];user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[305]]= true;_0x2A8EF= true}};if((user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[305]]&& _0x2A9A9== user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[304]])|| _0x2AAA1- user[_blr_edit[299]][_blr_edit[301]][0][_blr_edit[302]]> 4){user[_blr_edit[299]][_blr_edit[301]][_blr_edit[306]](0,1);if(user[_blr_edit[285]]){$(_blr_edit[309])[_blr_edit[308]](_blr_edit[307])}}};var _0x2AB1D=_0x2A6FF[_blr_edit[310]];if(_0x2AB1D[_blr_edit[310]]&& _0x2AB1D[_blr_edit[182]][_blr_edit[311]]()== _blr_edit[312]){_0x2AB1D= _0x2AB1D[_blr_edit[310]]};if(_0x2AB1D[_blr_edit[310]]&& _0x2AB1D[_blr_edit[182]][_blr_edit[311]]()!= _blr_edit[313]){_0x2AB1D= _0x2AB1D[_blr_edit[310]]};if(user[_blr_edit[298]][_blr_edit[297]]&& user[_blr_edit[298]][_blr_edit[301]][_0x2A9A9]){_0x2A8EF= true;_0x2AB1D= _0x2AB1D[_blr_edit[314]];_0x2A7F7[_blr_edit[315]]= _blr_edit[316];_0x2A7F7[_blr_edit[204]]= _blr_edit[317]};if(user[_blr_edit[298]][_blr_edit[297]]&& user[_blr_edit[298]][_blr_edit[318]]!= _0x2AB1D){if(user[_blr_edit[298]][_blr_edit[318]]&& user[_blr_edit[298]][_blr_edit[318]][_blr_edit[314]]!= _0x2AB1D){_0x2A7F7[_blr_edit[315]]= _blr_edit[152]};user[_blr_edit[298]][_blr_edit[318]]= _0x2AB1D}else {if(user[_blr_edit[298]][_blr_edit[297]]&& user[_blr_edit[298]][_blr_edit[318]]== _0x2AB1D){_0x2A8EF= false}};if(_0x2A8EF&& _0x2AB1D){var _0x2AB99=window[_blr_edit[319]]|| document[_blr_edit[321]][_blr_edit[320]]|| document[_blr_edit[249]][_blr_edit[322]];if(_0x2AB99< _0x2AB1D[_blr_edit[324]][_blr_edit[323]][_blr_edit[27]]+ 50){_0x2A7F7[_blr_edit[204]]= _blr_edit[325]};_0x2AB1D[_blr_edit[232]](_0x2A7F7)}};if(user[_blr_edit[150]][_blr_edit[149]]){if(_0x2A9A9> 0&& _0x2A96B&& syms[_0x2A9A9]&&  !syms[_0x2A9A9][_blr_edit[326]]){var $note=$(_blr_edit[290]+ _0x2A9A9+ _blr_edit[217]);var _0x2ABD7=$(_blr_edit[144])[_blr_edit[327]]();var _0x2A92D=$note[_blr_edit[329]](0)[_blr_edit[168]](_blr_edit[328])* scale- $(user[_blr_edit[150]][_blr_edit[155]])[_blr_edit[330]]();var _0x2A835=true;var _0x2A873=true;if(_0x2A92D|| _0x2A92D=== 0){if(_0x2A92D< 0){if(user[_blr_edit[150]][_blr_edit[331]]){user[_blr_edit[150]][_blr_edit[332]]= true;user[_blr_edit[150]][_blr_edit[333]]= user[_blr_edit[150]][_blr_edit[333]]+ _0x2A92D- _0x2ABD7/ 2};_0x2A835= false}else {if($(user[_blr_edit[150]][_blr_edit[155]])[_blr_edit[330]]()+ (_0x2A92D- _0x2ABD7/ 2)< user[_blr_edit[150]][_blr_edit[333]]){_0x2A873= false}else {user[_blr_edit[150]][_blr_edit[333]]= $(user[_blr_edit[150]][_blr_edit[155]])[_blr_edit[330]]()+ (_0x2A92D- _0x2ABD7/ 2)+ _0x2ABD7/ 5}};if(_0x2A873&& user[_blr_edit[150]][_blr_edit[332]]){$(user[_blr_edit[150]][_blr_edit[155]])[_blr_edit[206]]()[_blr_edit[334]]({scrollLeft:user[_blr_edit[150]][_blr_edit[333]]+ _blr_edit[255]},_0x2A835?1000:0);user[_blr_edit[150]][_blr_edit[332]]= false;if(!_0x2A835){user[_blr_edit[150]][_blr_edit[331]]= false;setTimeout(function(){user[_blr_edit[150]][_blr_edit[331]]= true})};setTimeout(function(){user[_blr_edit[150]][_blr_edit[332]]= true},1000)}}}};if(user[_blr_edit[335]]){ typeof (user[_blr_edit[335]])== _blr_edit[22]&& user[_blr_edit[335]](_0x2A9A9,_0x2A96B,_0x2AAA1,_0x2A6FF,_0x2AA25)}}function endplay(){if(play[_blr_edit[201]]){play[_blr_edit[207]][_blr_edit[338]](play[_blr_edit[336]],play[_blr_edit[337]],play[_blr_edit[119]]);return};if(user[_blr_edit[42]]== _blr_edit[43]){$(_blr_edit[227])[_blr_edit[154]]({'fill-opacity':0})};play[_blr_edit[205]]= false;try{endplaycallbck()}catch(e){};if(user[_blr_edit[339]]){user[_blr_edit[339]]()};user[_blr_edit[150]][_blr_edit[333]]= 0;if(user[_blr_edit[271]][_blr_edit[270]]){$(_blr_edit[275])[_blr_edit[154]]({'transition':_blr_edit[340]});currPage=  -1;nextPage=  -1;lastLightLine=  -1}}function play_stop(){if(play[_blr_edit[205]]){if(!play[_blr_edit[206]]){play[_blr_edit[206]]=  -1;play[_blr_edit[207]][_blr_edit[206]]()};return}}function play_one(_0x29DCB){if(user[_blr_edit[341]]!= null){var _0x2AD4B=play[_blr_edit[207]][_blr_edit[342]]();if(_0x2AD4B&& _0x2AD4B[_blr_edit[21]]> 1){play[_blr_edit[207]][_blr_edit[343]](_0x2AD4B[user[_blr_edit[341]]])}else {play[_blr_edit[207]][_blr_edit[343]](_0x2AD4B[0])}};set_vol(global_volume);play[_blr_edit[207]][_blr_edit[338]](0,1,_0x29DCB)}function play_arr(_0x29741){var _0x2AC91= new Array();var _0x2AD0D=0;for(var _0x24CA9=0;_0x24CA9< _0x29741[_blr_edit[21]];_0x24CA9++){var _0x2ACCF= new Float32Array(7);_0x2ACCF[0]= _0x29741[_0x24CA9][0];_0x2ACCF[1]= _0x29741[_0x24CA9][1];_0x2ACCF[2]= _0x29741[_0x24CA9][2];_0x2ACCF[3]= _0x29741[_0x24CA9][3];_0x2ACCF[4]= _0x29741[_0x24CA9][4];_0x2ACCF[5]= _0x29741[_0x24CA9][5];_0x2ACCF[6]= _0x29741[_0x24CA9][6];_0x2AC91[_blr_edit[344]](_0x2ACCF)};play[_blr_edit[207]][_blr_edit[338]](0,_0x2AC91[_blr_edit[21]],_0x2AC91)}function playGloAE(_0x2B0ED){if(glo_a_e== null){getGloAE()};for(var _0x24CA9=0;_0x24CA9< glo_a_e[_blr_edit[21]];_0x24CA9++){glo_a_e[_0x24CA9][3]+= _0x2B0ED};play[_blr_edit[207]][_blr_edit[338]](0,glo_a_e[_blr_edit[21]],glo_a_e)}function disableVoiceVolByV(_0x27BA5){if(glo_a_e!= null){for(var _0x24CA9=0;_0x24CA9< glo_a_e[_blr_edit[21]];_0x24CA9++){if(_0x27BA5[_blr_edit[36]](glo_a_e[_0x24CA9][6])>  -1){glo_a_e[_0x24CA9][5]= 0}}}}function resetIndex(_0x2B5C5){if(_0x2B5C5== 0){return};if(glo_a_e!= null){for(var _0x24CA9=0;_0x24CA9< glo_a_e[_blr_edit[21]];_0x24CA9++){glo_a_e[_0x24CA9][0]+= _0x2B5C5}}}function resetIndexPlus(_0x2B8AD){var _0x29AA5=getNoteData();if(glo_a_e!= null&& _0x29AA5){var _0x2B7B5=0,currTime=-1,_0x2B831,_0x2B739=-1,_0x2B777;var _0x2B641;for(var _0x24CA9=0,_0x2B6BD=glo_a_e[_blr_edit[21]];_0x24CA9< _0x2B6BD;_0x24CA9++){_0x2B641= glo_a_e[_0x24CA9];if(_0x2B641[0]==  -1){continue};if(_0x2B8AD&& _0x2B8AD[_blr_edit[21]]> 0){if(_0x2B8AD[_blr_edit[36]](_0x2B641[6])<=  -1){_0x2B641[0]= 0;continue}};for(var _0x25887=_0x2B7B5,_0x2B6FB=_0x29AA5[_blr_edit[21]];_0x25887< _0x2B6FB;_0x25887++){_0x2B831= _0x29AA5[_0x25887];if(_0x2B831[0]==  -1){continue};var _0x2B67F=_0x2B641[1][_blr_edit[79]](2);_0x2B67F= _0x2B67F[_blr_edit[176]](0,_0x2B67F[_blr_edit[21]]- 1);var _0x2B603=_0x2B641[4][_blr_edit[79]](2);_0x2B603= _0x2B603[_blr_edit[176]](0,_0x2B603[_blr_edit[21]]- 1);var _0x2B86F=_0x2B831[1][_blr_edit[79]](2);_0x2B86F= _0x2B86F[_blr_edit[176]](0,_0x2B86F[_blr_edit[21]]- 1);var _0x2B7F3=_0x2B831[4][_blr_edit[79]](2);_0x2B7F3= _0x2B7F3[_blr_edit[176]](0,_0x2B7F3[_blr_edit[21]]- 1);if(_0x2B641[0]!=  -1&& _0x2B67F== _0x2B86F&& (_0x2B641[3]== _0x2B831[3]|| Math[_blr_edit[345]](_0x2B641[3]- _0x2B831[3])== 12)&& _0x2B603== _0x2B7F3){if(_0x25887< _0x2B739|| _0x25887== _0x2B739&& _0x2B641[6]!= _0x2B777){continue};glo_a_e[_0x24CA9][0]= _0x2B831[0];_0x2B739= _0x25887;_0x2B777= _0x2B641[6];break}else {if(_0x2B641[0]!=  -1&& _0x2B67F== _0x2B86F){glo_a_e[_0x24CA9][0]= 0}else {if(_0x2B67F- 0< _0x2B86F- 0){break}}}}}}}function replaceHtml(_0x2B48F,_0x2B4CD){var _0x2B549= typeof _0x2B48F=== _blr_edit[1]?document[_blr_edit[102]](_0x2B48F):_0x2B48F;var _0x2B50B=_0x2B549[_blr_edit[346]](false);_0x2B50B[_blr_edit[29]]= _0x2B4CD;_0x2B549[_blr_edit[310]][_blr_edit[347]](_0x2B50B,_0x2B549);return _0x2B50B}function resetAllVoiceVol(){glo_a_e= JSON[_blr_edit[349]](JSON[_blr_edit[348]](init_glo_a_e))}function play_tune(_0x2AF3B){if(play[_blr_edit[205]]){if(!play[_blr_edit[206]]){play[_blr_edit[206]]=  -1;play[_blr_edit[207]][_blr_edit[206]]()};return}else {$(_blr_edit[227])[_blr_edit[154]](_blr_edit[221],0)};function _0x2AE43(_0x2AEBF){var _0x2AFF5=play[_blr_edit[119]];for(_0x24CA9= 0;_0x24CA9< _0x2AFF5[_blr_edit[21]];_0x24CA9++){_0x24D25= _0x2AFF5[_0x24CA9][0];if(_0x2AEBF== _0x24D25){return _0x24CA9}}}function _0x2AE05(_0x2AEBF,_0x2AAA1){var _0x24CA9,_0x24D25,_0x2AEFD,_0x2B0AF=1e6,_0x2AFF5=play[_blr_edit[119]],_0x2AF79=0,_0x2B071;_0x24CA9= _0x2AFF5[_blr_edit[21]];while(--_0x24CA9> 0){_0x24D25= _0x2AFF5[_0x24CA9][0];_0x2B071= _0x2AFF5[_0x24CA9][1];if(_0x24D25< _0x2AEBF){continue};if(_0x24D25== _0x2AEBF&& _0x2B071== _0x2AAA1){_0x2AF79= _0x24CA9;break};if(_0x24D25< _0x2B0AF){_0x2AF79= _0x24CA9;_0x2B0AF= _0x24D25}};if(_0x2AF79< _0x2AFF5[_blr_edit[21]]){_0x2AEFD= _0x2AFF5[_0x2AF79][1];while(--_0x2AF79>= 0){if(_0x2AFF5[_0x2AF79][1]!= _0x2AEFD){break}}};return _0x2AF79+ 1}function _0x2ADC7(_0x2AEBF){var _0x24CA9,_0x24D25,_0x2AEFD,_0x2B033=0,_0x2AFF5=play[_blr_edit[119]],_0x2AF79=0;if(_0x2AEBF<= _0x2AFF5[0][0]){return 0};var _0x2AFB7=_0x2AFF5[_0x2AFF5[_blr_edit[21]]- 1][0];for(var _0x24CA9=0;_0x24CA9< _0x2AFF5[_blr_edit[21]];_0x24CA9++){if(_0x2AFB7< _0x2AFF5[_0x24CA9][0]){_0x2AFB7= _0x2AFF5[_0x24CA9][0]}};if(_0x2AEBF>= _0x2AFB7){return _0x2AFF5[_blr_edit[21]]};for(_0x24CA9= 0;_0x24CA9< _0x2AFF5[_blr_edit[21]];_0x24CA9++){_0x24D25= _0x2AFF5[_0x24CA9][0];if(_0x24D25> _0x2AEBF){continue};if(_0x24D25== _0x2AEBF){_0x2AF79= _0x24CA9;break};if(_0x24D25> _0x2B033){_0x2AF79= _0x24CA9;_0x2B033= _0x24D25}};if(_0x2AF79> 0){_0x2AEFD= _0x2AFF5[_0x2AF79++][1];for(;_0x2AF79< _0x2AFF5[_blr_edit[21]];_0x2AF79++){if(_0x2AFF5[_0x2AF79][1]!= _0x2AEFD){break}}};return _0x2AF79}function _0x2AE81(_0x2AEBF,_0x2AD89){selx_sav[0]= selx[0];selx_sav[1]= selx[1];setsel(0,0);setsel(1,0);play[_blr_edit[206]]= 0;if(user[_blr_edit[341]]!= null){var _0x2AD4B=play[_blr_edit[207]][_blr_edit[342]]();if(_0x2AD4B&& _0x2AD4B[_blr_edit[21]]> 1){play[_blr_edit[207]][_blr_edit[343]](_0x2AD4B[user[_blr_edit[341]]])}else {play[_blr_edit[207]][_blr_edit[343]](_0x2AD4B[0])}};play[_blr_edit[207]][_blr_edit[338]](_0x2AEBF,_0x2AD89,play[_blr_edit[119]])}var abc,_0x24CA9,_0x2AEBF,_0x2AD89,_0x287FF,_0x2AEFD,_0x24D25=$(_blr_edit[129])[_blr_edit[128]](),_0x287C1=document[_blr_edit[102]](_blr_edit[194]);_0x287C1[_blr_edit[24]][_blr_edit[23]]= _blr_edit[115];play[_blr_edit[205]]= true;getBeatAndSpeed(_0x24D25,function(_0x2977F,_0x2996F){user[_blr_edit[350]]= _0x2996F});if(!play[_blr_edit[119]]){user[_blr_edit[131]]= null;user[_blr_edit[133]]= play[_blr_edit[207]][_blr_edit[293]];abc=  new abc2svg[_blr_edit[134]](user);play[_blr_edit[207]][_blr_edit[351]]();abc[_blr_edit[137]](_blr_edit[338],_blr_edit[352]);try{initVol= 1;splitVol= 0;abc[_blr_edit[137]](abc_fname[0],_0x24D25)}catch(e){window[_blr_edit[6]][_blr_edit[5]](e[_blr_edit[138]]+ _blr_edit[139]+ e[_blr_edit[140]]);play[_blr_edit[205]]= false;play[_blr_edit[119]]= null;return};play[_blr_edit[119]]= play[_blr_edit[207]][_blr_edit[351]]();play[_blr_edit[336]]= play[_blr_edit[337]]= play[_blr_edit[206]]= 0;play[_blr_edit[201]]= false};if(_0x2AF3B< 0){initVol= 1;splitVol= 0;play[_blr_edit[201]]= false;play[_blr_edit[336]]= 0;if(play[_blr_edit[119]]== null){window[_blr_edit[6]][_blr_edit[5]](_blr_edit[353]);return};play[_blr_edit[337]]= play[_blr_edit[119]][_blr_edit[21]];_0x2AE81(play[_blr_edit[336]],play[_blr_edit[337]]);return};if(_0x2AF3B== 2&& play[_blr_edit[201]]){_0x2AE81(play[_blr_edit[336]],play[_blr_edit[337]]);return};if(_0x2AF3B== 3){if(play[_blr_edit[206]]> 0){_0x2AE81(_0x2AE05(play[_blr_edit[206]],play[_blr_edit[287]]),play[_blr_edit[337]])}else {if(play[_blr_edit[337]]== 0){_0x2AE81(_0x2AE05(laststop,laststopPt),play[_blr_edit[119]][_blr_edit[21]])}else {_0x2AE81(_0x2AE05(laststop,laststopPt),play[_blr_edit[337]])}};return};if(_0x2AF3B== 4){_0x2AEBF= _0x2AE43(selx[0]);_0x2AD89= _0x2ADC7(selx[1]);if(_0x2AEBF== play[_blr_edit[119]][_blr_edit[21]]){_0x2AEBF= _0x2AEBF- 1};if(_0x2AD89== 0){_0x2AD89= _0x2AEBF+ 1};_0x2AE81(_0x2AEBF,_0x2AD89);return};if(_0x2AF3B!= 0&& selx[0]&& selx[1]){_0x2AEBF= _0x2AE05(selx[0]);_0x2AD89= _0x2ADC7(selx[1])}else {if(_0x2AF3B!= 0&& selx[0]){_0x2AEBF= _0x2AE05(selx[0]);_0x24CA9= _0x24D25[_blr_edit[36]](_blr_edit[354],selx[0]);_0x2AD89= _0x24CA9< 0?play[_blr_edit[119]][_blr_edit[21]]:_0x2ADC7(_0x24CA9)}else {if(_0x2AF3B!= 0&& selx[1]){_0x24CA9= _0x24D25[_blr_edit[355]](_blr_edit[354],selx[1]);_0x2AEBF= _0x24CA9< 0?0:_0x2AE05(_0x24CA9);_0x2AD89= _0x2ADC7(selx[1])}else {_0x24CA9= _0x287FF?Number(_0x287FF[0][_blr_edit[193]](_blr_edit[192])[_blr_edit[123]](6,-1)):0;_0x2AEBF= _0x2AD89= 0;if(_0x24D25[0]== _blr_edit[356]&& _0x24D25[1]== _blr_edit[357]){_0x2AEBF= 1};while(1){_0x2AD89= _0x24D25[_blr_edit[36]](_blr_edit[354],_0x2AD89);if(_0x2AD89< 0|| _0x2AD89> _0x24CA9){break};_0x2AEBF= _0x24D25[_blr_edit[36]](_blr_edit[358],++_0x2AD89);if(_0x2AEBF< 0){break};_0x2AD89= _0x2AEBF};if(_0x2AEBF<= 0){play[_blr_edit[205]]= false;return};_0x2AEBF= _0x2AE05(_0x2AEBF);_0x2AD89= _0x2AD89< 0?play[_blr_edit[119]][_blr_edit[21]]:_0x2ADC7(_0x2AD89)}}};if(_0x2AF3B!= 3){play[_blr_edit[336]]= _0x2AEBF;play[_blr_edit[337]]= _0x2AD89;play[_blr_edit[201]]= _0x2AF3B== 2};_0x2AE81(_0x2AEBF,_0x2AD89)}function edit_init(){if( typeof abc2svg!= _blr_edit[7]||  !abc2svg[_blr_edit[130]]){setTimeout(edit_init,500);return};abc2svg[_blr_edit[98]]= function(_0x24B35,_0x28707,_0x286C9){try{var _0x28745=document[_blr_edit[20]](_blr_edit[19]);for(var _0x24CA9 in _0x28745){if(_0x28745[_0x24CA9]&& _0x28745[_0x24CA9][_blr_edit[10]]&& _0x28745[_0x24CA9][_blr_edit[10]][_blr_edit[36]](_0x24B35)>  -1){return  typeof (_0x28707)== _blr_edit[22]&& _0x28707()}}}catch(_0x27AEB){return  typeof (_0x286C9)== _blr_edit[22]&& _0x286C9(_0x27AEB)};if(_0x24B35[_blr_edit[36]](_blr_edit[359])>  -1){return true};var _0x24D25=document[_blr_edit[237]](_blr_edit[19]);if(/:\/\//[_blr_edit[67]](_0x24B35)){_0x24D25[_blr_edit[10]]= _0x24B35}else {_0x24D25[_blr_edit[10]]= jsdir+ _0x24B35};_0x24D25[_blr_edit[8]]= _blr_edit[360];if(_0x28707){_0x24D25[_blr_edit[361]]= _0x28707};_0x24D25[_blr_edit[0]]= _0x286C9|| function(){window[_blr_edit[6]][_blr_edit[5]](_blr_edit[362]+ _0x24B35)};document[_blr_edit[363]][_blr_edit[248]](_0x24D25)};abc2svg[_blr_edit[141]]= function(){};function _0x2868B(){var _0x2887B=storage(true,_blr_edit[256]);if(_0x2887B){elt_ref[_blr_edit[111]][_blr_edit[24]][_blr_edit[254]]= elt_ref[_blr_edit[28]][_blr_edit[24]][_blr_edit[254]]= _0x2887B+ _blr_edit[255];document[_blr_edit[102]](_blr_edit[253])[_blr_edit[27]]= Number(_0x2887B)};_0x2887B= storage(true,_blr_edit[100]);if(_0x2887B){loadlang(_0x2887B,true)}}var _0x25659=[_blr_edit[30],_blr_edit[111],_blr_edit[28],_blr_edit[364],_blr_edit[121],_blr_edit[11]];for(var _0x24CA9=0;_0x24CA9< _0x25659[_blr_edit[21]];_0x24CA9++){var _0x27AEB=_0x25659[_0x24CA9];elt_ref[_0x27AEB]= document[_blr_edit[102]](_0x27AEB)};var _0x2864D=document[_blr_edit[102]](_blr_edit[365]);if(_0x2864D!= null){_0x2864D[_blr_edit[247]]= saveas};if(elt_ref[_blr_edit[364]]!= null){elt_ref[_blr_edit[364]][_blr_edit[247]]= function(){selsrc(0)}};if(elt_ref[_blr_edit[121]]!= null){elt_ref[_blr_edit[121]][_blr_edit[247]]= function(){selsrc(1)}};if(!elt_ref[_blr_edit[11]]){return};elt_ref[_blr_edit[11]][_blr_edit[247]]= svgsel;elt_ref[_blr_edit[11]][_blr_edit[366]]= svgMouseDown;elt_ref[_blr_edit[11]][_blr_edit[367]]= svgMouseMove;elt_ref[_blr_edit[11]][_blr_edit[368]]= svgMouseUp;elt_ref[_blr_edit[11]][_blr_edit[369]]= svgMouseDown;elt_ref[_blr_edit[11]][_blr_edit[370]]= svgMouseMove;elt_ref[_blr_edit[11]][_blr_edit[371]]= svgMouseUp;elt_ref[_blr_edit[111]][_blr_edit[372]]= seltxt;window[_blr_edit[373]]= function(){selx_sav[0]= selx[0];selx_sav[1]= selx[1];setsel(0,0);setsel(1,0)};window[_blr_edit[374]]= function(){setsel(0,selx_sav[0]);setsel(1,selx_sav[1])};abc2svg[_blr_edit[98]](_blr_edit[375]);if(window[_blr_edit[376]]|| window[_blr_edit[377]]|| navigator[_blr_edit[378]]|| window[_blr_edit[379]]|| window[_blr_edit[380]]){var _0x285D1=false;var _0x2860F=document[_blr_edit[289]](_blr_edit[19]);for(var _0x24CA9=0;_0x24CA9< _0x2860F[_blr_edit[21]];_0x24CA9++){if(_0x2860F[_0x24CA9][_blr_edit[10]][_blr_edit[36]](_blr_edit[381])!=  -1){_0x285D1= true;break}};if(_0x285D1){play[_blr_edit[207]]= AbcPlay({onend:endplay,onnote:notehlight})}else {abc2svg[_blr_edit[98]](_blr_edit[382],function(){play[_blr_edit[207]]= AbcPlay({onend:endplay,onnote:notehlight})})};if(user[_blr_edit[383]]){var _0x27AEB=elt_ref[_blr_edit[11]];_0x27AEB[_blr_edit[384]]= function(_0x27B67){if(document[_blr_edit[102]](_blr_edit[385])!= null){document[_blr_edit[102]](_blr_edit[385])[_blr_edit[24]][_blr_edit[23]]= _blr_edit[115]};var _0x24F15,_0x24F53,_0x287FF=_0x27B67[_blr_edit[11]],_0x28783=_0x287FF[_blr_edit[193]](_blr_edit[192]);_0x27B67[_blr_edit[202]]();_0x27B67[_blr_edit[203]]();if(_0x28783&& _0x28783[_blr_edit[197]](0,4)== _blr_edit[198]){setsel(1,Number(getAbcistart(_0x28783)))};while(_0x287FF[_blr_edit[182]]&& _0x287FF[_blr_edit[182]]!= _blr_edit[184]){_0x287FF= _0x287FF[_blr_edit[310]]};play[_blr_edit[184]]= _0x287FF;var _0x287C1=document[_blr_edit[102]](_blr_edit[194]);_0x287C1[_blr_edit[24]][_blr_edit[23]]= _blr_edit[204];_0x24F15= _0x27B67[_blr_edit[386]]+ elt_ref[_blr_edit[11]][_blr_edit[310]][_blr_edit[330]];_0x24F53= _0x27B67[_blr_edit[387]];_0x287C1[_blr_edit[24]][_blr_edit[388]]= _0x24F15+ 5+ _blr_edit[255];_0x287C1[_blr_edit[24]][_blr_edit[6]]= _0x24F53+ 20+ _blr_edit[255];var _0x251FD=$(_0x27B67[_blr_edit[11]])[_blr_edit[168]](_blr_edit[174]);if(_0x251FD){if($(_blr_edit[171])[_blr_edit[21]]== 0){var _0x2883D=$(_blr_edit[391]+ _0x251FD+ _blr_edit[392]+ _0x251FD+ _blr_edit[393])[_blr_edit[390]](_blr_edit[389])};$(_blr_edit[394]+ _0x251FD+ _blr_edit[393])[_blr_edit[154]](_blr_edit[221],_blr_edit[226])};if($(_blr_edit[171])[_blr_edit[21]]> 0){$(_blr_edit[396])[_blr_edit[395]]()}else {$(_blr_edit[396])[_blr_edit[125]]()};return false}}};_0x2868B()}function getAbcistart(_0x28783){if(_0x28783!= null){var _0x29649=_0x28783[_blr_edit[18]](/[0-9]+/g);if(!_0x29649){return 0};return _0x29649[0]}}function drag_over(_0x27B67){_0x27B67[_blr_edit[202]]();_0x27B67[_blr_edit[203]]()}function dropped(_0x27B67){_0x27B67[_blr_edit[202]]();_0x27B67[_blr_edit[203]]();var _0x28555=_0x27B67[_blr_edit[398]][_blr_edit[397]](_blr_edit[66]);if(_0x28555){_0x27B67[_blr_edit[11]][_blr_edit[27]]= _0x28555;src_change();return};_0x28555= _0x27B67[_blr_edit[398]][_blr_edit[106]];if(_0x28555[_blr_edit[21]]!= 0){var _0x28593= new FileReader;_0x28593[_blr_edit[361]]= function(_0x27B67){$(_blr_edit[129])[_blr_edit[128]](_0x27B67[_blr_edit[11]][_blr_edit[110]]);src_change()};_0x28593[_blr_edit[114]](_0x28555[0],_blr_edit[113]);return}}

function getNoteData(){
    if(user[_blr_edit[399]]&& user[_blr_edit[400]])
    {
        return user[_blr_edit[400]]
    };
    isGetNoteData= true;
    var abc,_0x24D25=$(_blr_edit[129])[_blr_edit[128]]();
    user[_blr_edit[131]]= null;
    user[_blr_edit[133]]= play[_blr_edit[207]][_blr_edit[293]];
    abc=  new abc2svg[_blr_edit[134]](user);
    try
    {
        initVol= 1;
        splitVol= 0;
        abc[_blr_edit[137]](abc_fname[0],_0x24D25);
        isGetNoteData= false
    }
    catch(e)
    {
        window[_blr_edit[6]][_blr_edit[5]](e[_blr_edit[138]]+ _blr_edit[139]+ e[_blr_edit[140]]);
        play[_blr_edit[205]]= false;
        play[_blr_edit[119]]= null;
        isGetNoteData= false;
        return
    };
    var a=play[_blr_edit[207]][_blr_edit[351]]();//207: abcplay
    if(user[_blr_edit[399]])
    {
        user[_blr_edit[400]]= a
    };
     
    isGetNoteData= false;
    return a
}

function clearNoteData(){user[_blr_edit[400]]= null}function getAllNoteIndex(){var _0x29687=getNoteData();var _0x296C5= new Array();for(var _0x24CA9=0;_0x24CA9< _0x29687[_blr_edit[21]];_0x24CA9++){_0x296C5[_blr_edit[344]](_0x29687[_0x24CA9][0])};return _0x296C5}function showFirstBarSeq(){$[_blr_edit[402]]($(_blr_edit[184]),function(_0x24CA9,_0x26ECF){$[_blr_edit[402]]($(_0x26ECF)[_blr_edit[213]](_blr_edit[401]),function(_0x25887,_0x2BBD3){if(_0x25887> 0){$(_0x2BBD3)[_blr_edit[283]]()}})})}var timer;function src_change(_0x2B1E5){$(_blr_edit[144])[_blr_edit[154]](_blr_edit[403],_blr_edit[404]);$(_blr_edit[406])[_blr_edit[308]](_blr_edit[405]);var _0x28CD7=$(_blr_edit[129])[_blr_edit[128]]();if(_0x28CD7== _blr_edit[13]){return};if(user[_blr_edit[407]]== 0){user[_blr_edit[408]]= musicType};line0X=  -1;line1X=  -1;$(_blr_edit[409])[_blr_edit[283]]();$(_blr_edit[410])[_blr_edit[283]]();$(_blr_edit[411])[_blr_edit[283]]();user[_blr_edit[412]]= null;try{has_weak_node= false;bar_count= 0;last_bar_time= 0;bar_visible= {"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0};max_st_nodenum= 0;last_bar_x= 0}catch(e){console[_blr_edit[413]](e)};showBeat= false;showKew= false;showSD= false;isInFirstNode= true;firstNodeNotes=  new Array();renderStaffMeterCount= 0;if(!elt_ref[_blr_edit[111]]){return};var _0x2BC8D= new Array();var _0x2BD09=/V\s*:\s*([0-9]*)/g;var _0x24CE7=_0x28CD7[_blr_edit[18]](_0x2BD09);isStave= false;notAutoSFBarSeq=  -1;if(_0x24CE7!= null&& _0x24CE7[_blr_edit[21]]> 0){for(var _0x24CA9=0;_0x24CA9< _0x24CE7[_blr_edit[21]];_0x24CA9++){var _0x24BEF=_0x24CE7[_0x24CA9];var _0x2BCCB=_0x24BEF[_blr_edit[18]](/V\s*:\s*([0-9]*)/)[1];if(_0x2BC8D[_blr_edit[36]](_0x2BCCB)< 0){_0x2BC8D[_blr_edit[344]](_0x2BCCB)}}};if(_0x2BC8D[_blr_edit[21]]> 1){isStave= true}else {if(_0x2BC8D[_blr_edit[21]]== 1){if(_0x2BC8D[0]== _blr_edit[414]){isStave= true}}};if(!isStave&& musicType== 2){if(false){var _0x28CD7=$(_blr_edit[129])[_blr_edit[128]]();if(_0x28CD7[_blr_edit[36]](_blr_edit[415])>  -1){var _0x2BC4F=firstMeterWidth;_0x28CD7= _0x28CD7[_blr_edit[95]](/\%\%indent.*/,_blr_edit[416]+ _0x2BC4F);$(_blr_edit[129])[_blr_edit[128]](_0x28CD7)}else {$(_blr_edit[129])[_blr_edit[128]](_blr_edit[416]+ firstMeterWidth+ _blr_edit[122]+ $(_blr_edit[129])[_blr_edit[128]]())}}}else {$(_blr_edit[129])[_blr_edit[128]]($(_blr_edit[129])[_blr_edit[128]]()[_blr_edit[418]](_blr_edit[417],_blr_edit[13]))};play_stop();play[_blr_edit[205]]= false;if(!play[_blr_edit[205]]){timer= setTimeout(render,100,_0x2B1E5)};if(elt_ref[_blr_edit[111]]&& $(_blr_edit[129])[_blr_edit[128]]()!= _blr_edit[13]&& $(_blr_edit[129])[_blr_edit[128]]()[_blr_edit[36]](_blr_edit[419])>  -1){setTimeout(showFirstBarSeq,100)};getVoiceVol(_blr_edit[111])}function getVoiceVol(_0x2A2A3){var _0x28CD7=$(_blr_edit[420]+ _0x2A2A3)[_blr_edit[128]]();if(!_0x28CD7){return};var _0x2A227=/%%voicevol\((.*)\)/;var _0x24CE7=_0x28CD7[_blr_edit[18]](_0x2A227);if(_0x24CE7!= null){var _0x24BEF=_0x24CE7[1];var _0x2A2E1=_0x24BEF[_blr_edit[166]](_blr_edit[32]);vols=  new Array();for(var _0x25887=0;_0x25887< _0x2A2E1[_blr_edit[21]];_0x25887++){var _0x2A265=_0x2A2E1[_0x25887];var _0x2887B=_0x2A265[_blr_edit[166]](_blr_edit[421])[0];var _0x2A31F=_0x2A265[_blr_edit[166]](_blr_edit[421])[1];var _0x27B29= new Object();_0x27B29[_blr_edit[56]]= _0x2887B;_0x27B29[_blr_edit[422]]= _0x2A31F;vols[_blr_edit[344]](_0x27B29)}}}setTimeout(edit_init,200);function getBeatAndSpeed(_0x28CD7,_0x24B35){var _0x298B5= new RegExp(_blr_edit[423]);var _0x29877= new RegExp(_blr_edit[424]);var _0x297FB=_0x298B5[_blr_edit[239]](_0x28CD7);var _0x26693=_0x29877[_blr_edit[239]](_0x28CD7);var _0x29839;if(!_0x26693){return  typeof _0x24B35== _blr_edit[22]&& _0x24B35()};var _0x297BD=_0x26693[0][_blr_edit[95]]( new RegExp(_blr_edit[425],_blr_edit[426]),_blr_edit[13]);if(_0x297BD[_blr_edit[36]](_blr_edit[427])>  -1){_0x297BD= _blr_edit[428]}else {if(_0x297BD[_blr_edit[36]](_blr_edit[429])>  -1){_0x297BD= _blr_edit[430]}else {if(_0x297BD[_blr_edit[166]](_blr_edit[431])[_blr_edit[21]]> 2){_0x297BD= _0x297BD[_blr_edit[240]]()[_blr_edit[166]](_blr_edit[9])[0]}}};_0x297BD= _0x297BD[_blr_edit[418]](_blr_edit[9],_blr_edit[13]);var _0x2977F=_0x297BD[_blr_edit[166]](_blr_edit[431])[0];if(!_0x297FB){_0x29839= [_blr_edit[432]+ _0x297BD[_blr_edit[166]](_blr_edit[431])[1],_blr_edit[433]]}else {_0x29839= _0x297FB[0][_blr_edit[95]](_blr_edit[434],_blr_edit[13])[_blr_edit[166]](_blr_edit[421]);if(_0x29839&& _0x29839[_blr_edit[21]]> 0&& _0x29839[0][_blr_edit[36]](_blr_edit[435])>  -1){qAsplit= _0x29839[0][_blr_edit[166]](_blr_edit[435]);_0x29839[0]= qAsplit[qAsplit[_blr_edit[21]]- 1]}};var _0x2996F=0;if(_0x29839[_blr_edit[21]]> 0){var _0x298F3=_0x29839[1];var _0x29741=_0x29839[0][_blr_edit[166]](_blr_edit[431]);var _0x26A35=eval(_0x29839[0]);var _0x29931=_0x298F3* _0x297BD[_blr_edit[166]](_blr_edit[431])[1]/ _0x29741[1];_0x2996F= 60/ _0x29931}else {_0x2996F= 60/ _0x29839[0]};var _0x29703=_0x29839[1];return  typeof _0x24B35== _blr_edit[22]&& _0x24B35(_0x2977F,_0x2996F,_0x29703,_0x297BD)}function getSubSvg(_0x29FBB,_0x25143){var _0x29F7D=_blr_edit[13];var _0x29F3F=_blr_edit[13];for(var _0x24CA9=0;_0x24CA9< _0x25143;_0x24CA9++){var _0x24D63=_0x29FBB[_blr_edit[36]](_blr_edit[436]);_0x29FBB= _0x29FBB[_blr_edit[197]](_0x24D63+ 6)};var _0x29F01=_0x29FBB[_blr_edit[36]](_blr_edit[436]);return _0x29FBB[_blr_edit[176]](0,_0x29F01+ 6)}function getClickNoteInfo(_0x251FD){return syms[_0x251FD]}function findNearElement(_0x28E0D,_0x24F15,_0x24F53){var _0x28D53=9999;var _0x28D91=9999;var _0x28DCF=null;if($(_0x28E0D)[_blr_edit[437]](_blr_edit[66])){var _0x24E5B=$(_0x28E0D)[_blr_edit[168]](_blr_edit[8]);if(_0x24E5B== _blr_edit[234]|| _0x24E5B== _blr_edit[438]){_0x28DCF= $(_0x28E0D);var _0x27B29= new Object();_0x27B29[_blr_edit[8]]= _0x24E5B;_0x27B29[_blr_edit[66]]= $(_0x28E0D)[_blr_edit[66]]();return _0x27B29}};$(_0x28E0D)[_blr_edit[213]](_blr_edit[449])[_blr_edit[402]](function(_0x24CA9,_0x26ECF){var _0x28F81=$(this)[_blr_edit[168]](_blr_edit[328]);var _0x28FBF=$(this)[_blr_edit[168]](_blr_edit[439]);if(!_0x28F81){_0x28F81= 0};if(!_0x28FBF){_0x28FBF= 0};_0x28F81= parseFloat(_0x28F81);_0x28FBF= parseFloat(_0x28FBF);var _0x28E4B=$(_0x26ECF)[0][_blr_edit[440]]();var _0x290F5=$(_0x26ECF)[0][_blr_edit[441]]();var _0x2770B=_0x28E4B[_blr_edit[324]];var _0x292A7=_0x28E4B[_blr_edit[327]];if($(_0x26ECF)[_blr_edit[437]](_blr_edit[442])&&  !_0x28F81){var _0x28E89=$(_0x26ECF)[_blr_edit[168]](_blr_edit[443]);if(_0x28E89&& _0x28E89!= _blr_edit[13]){var _0x29079=/m(\d*[.]\d*\s*\d*[.]\d*)/i;var _0x290B7=_0x28E89[_blr_edit[18]](_0x29079);if(_0x290B7!= null&& _0x290B7[_blr_edit[21]]> 0){var _0x2903B=_0x290B7[1][_blr_edit[95]](/\s+/,_blr_edit[9]);_0x28F81= parseFloat(_0x2903B[_blr_edit[166]](_blr_edit[9])[0]);_0x28FBF= parseFloat(_0x2903B[_blr_edit[166]](_blr_edit[9])[1])}}};var _0x26A35=$(this)[_blr_edit[444]]();var _0x26D1D=0;var _0x26D5B=0;var _0x29171=1;if($(_0x26A35)[_blr_edit[437]](_blr_edit[426])){var _0x2922B=$(_0x26A35)[_blr_edit[168]](_blr_edit[445]);if(_0x2922B&& _0x2922B!= _blr_edit[13]){var _0x29269=/translate\((.[^\(]*)\)/;var _0x29133=/scale\((.[^\(]*)\)/;var _0x291AF=_0x2922B[_blr_edit[18]](_0x29269);if(_0x291AF!= null&& _0x291AF[_blr_edit[21]]> 0){var _0x291ED=_0x291AF[1];_0x26D1D= parseFloat(_0x291ED[_blr_edit[166]](_blr_edit[32])[0]);_0x26D5B= parseFloat(_0x291ED[_blr_edit[166]](_blr_edit[32])[1])};var _0x28FFD=_0x2922B[_blr_edit[18]](_0x29133);if(_0x28FFD!= null&& _0x28FFD[_blr_edit[21]]> 0){_0x29171= parseFloat(_0x28FFD[1]);_0x292A7= parseFloat(_0x292A7)/ _0x29171;_0x2770B= parseFloat(_0x2770B)/ _0x29171}};if($(_0x26A35)[_blr_edit[168]](_blr_edit[8])== _blr_edit[446]){_0x2770B=  -_0x2770B}};var _0x24E5B=$(_0x26ECF)[_blr_edit[168]](_blr_edit[8]);if(_0x24E5B&& _0x24E5B[_blr_edit[181]]()== _blr_edit[447]){if(parseFloat(_0x2770B)> 0){_0x2770B= parseFloat(_0x2770B)- 20}};if($(_0x26ECF)[_blr_edit[437]](_blr_edit[442])){if(_0x24F15>= _0x28F81+ _0x26D1D&& _0x24F15<= parseFloat(_0x28F81)+ parseFloat(_0x292A7)+ _0x26D1D&& _0x24F53>= parseFloat(_0x28FBF)+ _0x26D5B&& _0x24F53<= Math[_blr_edit[345]](_0x28FBF)+ parseFloat(_0x2770B)+ _0x26D5B){_0x28DCF= $(this);return false}}else {if(_0x24F15>= _0x28F81+ _0x26D1D&& _0x24F15<= parseFloat(_0x28F81)+ parseFloat(_0x292A7)+ _0x26D1D&& _0x24F53<= parseFloat(_0x28FBF)+ _0x26D5B&& _0x24F53>= Math[_blr_edit[345]](_0x28FBF)- parseFloat(_0x2770B)+ _0x26D5B){_0x28DCF= $(this);return false}};var _0x27613=Math[_blr_edit[345]](parseFloat(_0x28F81+ _0x26D1D)- _0x24F15);if(_0x27613> 30){return};if(_0x27651> 30){return};var _0x27651=Math[_blr_edit[345]](parseFloat(_0x28FBF+ _0x26D5B)- _0x24F53);var _0x28F43=Math[_blr_edit[345]](parseFloat(_0x28FBF)+ parseFloat(_0x2770B)- _0x24F53);var _0x28EC7=Math[_blr_edit[448]](Math[_blr_edit[262]](_0x27613,2)+ Math[_blr_edit[262]](_0x27651,2));var _0x28F05=Math[_blr_edit[448]](Math[_blr_edit[262]](_0x27613,2)+ Math[_blr_edit[262]](_0x28F43,2));if(_0x28F05< _0x28EC7){_0x28EC7= _0x28F05};if(_0x28EC7< 50){if(_0x28EC7< _0x28D91){_0x28D91= _0x28EC7;_0x28DCF= $(this)}}});var _0x27B29= new Object();_0x27B29[_blr_edit[8]]= null;_0x27B29[_blr_edit[66]]= _blr_edit[13];_0x27B29[_blr_edit[450]]= _blr_edit[13];if(_0x28DCF!= null&& _0x28DCF[_blr_edit[21]]> 0){console[_blr_edit[146]](_0x28DCF[0][_blr_edit[451]]);_0x27B29[_blr_edit[8]]= $(_0x28DCF)[_blr_edit[168]](_blr_edit[8]);if($(_0x28DCF)[_blr_edit[437]](_blr_edit[66])){_0x27B29[_blr_edit[66]]= $(_0x28DCF)[_blr_edit[66]]()};if($(_0x28DCF)[_blr_edit[168]](_blr_edit[450])){_0x27B29[_blr_edit[450]]= $(_0x28DCF)[_blr_edit[168]](_blr_edit[450])};_0x27B29[_blr_edit[143]]= _0x28DCF[0][_blr_edit[451]]};return _0x27B29}var singleRect2=function(_0x24E5B,_0x24D63,_0x24DA1,_0x24F15,_0x24F53,_0x24ED7,_0x24C6B,_0x24D25,_0x24DDF){if(_blr_edit[452]!= _0x24E5B&& _blr_edit[453]!= _0x24E5B){return};var _0x271F5=2,_0x27271,_0x27233,_0x271B7;_0x27233= _0x24D25[_blr_edit[328]]- 4.5- 2;let _0x272ED=abc[_blr_edit[454]]();let _0x2732B=_0x272ED[_blr_edit[21]];var _0x272AF=0;var _0x2713B=-1;var _0x270FD=0;for(var _0x24CA9=0;_0x24CA9< _0x272ED[_blr_edit[21]];_0x24CA9++){if(_0x272ED[_0x24CA9][_blr_edit[439]]!= 0){if(_0x2713B==  -1){_0x2713B= _0x24CA9};_0x272AF++;_0x270FD= _0x24CA9}};if(_0x272AF== 1){_0x27271= (_0x272ED[_0x2713B])[_blr_edit[439]]+ _0x272ED[_0x2713B][_blr_edit[455]]* _0x272ED[_0x2713B][_blr_edit[456]]+ 15;_0x271B7= _0x272ED[_0x2713B][_blr_edit[455]]* _0x272ED[_0x2713B][_blr_edit[456]]+ 30;if(_0x24D25[_blr_edit[268]]== 0&& musicType== 2){_0x271B7= _0x271B7+ 15}}else {_0x27271= (abc[_blr_edit[454]]()[_0x2713B])[_blr_edit[439]]+ _0x272ED[_0x2713B][_blr_edit[455]]* _0x272ED[_0x2713B][_blr_edit[456]]+ 15;_0x271B7= _0x272ED[_0x2713B][_blr_edit[439]]+ _0x272ED[_0x2713B][_blr_edit[455]]* _0x272ED[_0x2713B][_blr_edit[456]]- (_0x272ED[_0x270FD][_blr_edit[439]]+ _0x272ED[_0x270FD][_blr_edit[457]]* _0x272ED[_0x270FD][_blr_edit[456]])+ 30;if(_0x24D25[_blr_edit[268]]== 0&& musicType== 2){_0x271B7= _0x271B7+ 15}};var _0x27179=getValidNext(_0x24D25,_0x24D25[_blr_edit[458]]);var _0x27369=_0x27179[_blr_edit[300]]- _0x24D25[_blr_edit[300]];var _0x271F5=2,_0x27271,_0x27233,_0x271B7;var _0x260C3=getMeter(_0x24D25[_blr_edit[460]][_blr_edit[71]][_blr_edit[459]][0]);var _0x26047=$(_blr_edit[129])[_blr_edit[128]]();var _0x2500D=_0x26047[_blr_edit[123]](_0x24D63,_0x24DA1);if(_0x260C3&& _0x260C3[_blr_edit[461]]< 4){_0x260C3[_blr_edit[461]]= 4;_0x260C3[_blr_edit[6]]= (4/ _0x260C3[_blr_edit[461]])* _0x260C3[_blr_edit[6]]};var _0x24BB1=getTag(_0x26047,_blr_edit[462]);var _0x26FC7=_0x24D25[_blr_edit[463]]/ parseInt(_0x24D25[_blr_edit[464]][0][_blr_edit[6]]);_0x24D25[_blr_edit[465]]= _0x26FC7;_0x24D25[_blr_edit[466]]= _0x27369;_0x24D25[_blr_edit[467]]= 0;if(_0x27369> _0x26FC7){var _0x270BF=isMinXWithSameTime(_0x24D25);if(!_0x270BF){return};if(_0x270BF){var _0x27043=removeSingleLine(_0x24D25);if(_0x27043){drawSingleLine(_0x27233,_0x27271,_0x271F5,_0x271B7,_0x24D25,_0x24E5B,0,_0x24D25[_blr_edit[300]],_0x26FC7)}};var _0x27005=0;var _0x27081=_0x27369+ 0;while(_0x27369> _0x26FC7){_0x27369= _0x27369- _0x26FC7;_0x27005++};var _0x273A7=_0x27179[_blr_edit[328]]- _0x24D25[_blr_edit[328]];var _0x273E5=_0x273A7/ (_0x27005+ 1);_0x24D25[_blr_edit[467]]= _0x27005;for(var _0x24CA9=1;_0x24CA9<= _0x27005;_0x24CA9++){drawSingleLine(_0x27233+ _0x273E5* (_0x24CA9),_0x27271,_0x271F5,_0x271B7,_0x24D25,_0x24E5B,_0x24CA9,_0x24D25[_blr_edit[300]]+ (_0x27081/ (_0x27005+ 1))* _0x24CA9,_0x27081/ (_0x27005+ 1))};console[_blr_edit[146]](_blr_edit[468],_0x24D25[_blr_edit[174]],_blr_edit[469],_0x27179[_blr_edit[174]]);console[_blr_edit[146]](_blr_edit[470],_0x27369);console[_blr_edit[146]](_blr_edit[471]+ _0x27005+ _blr_edit[472],_0x273E5)}else {if(_0x27369> 0){if(isMinXWithSameTime(_0x24D25)){var _0x27043=removeSingleLine(_0x24D25);if(_0x27043){drawSingleLine(_0x27233,_0x27271,_0x271F5,_0x271B7,_0x24D25,_0x24E5B,0,_0x24D25[_blr_edit[300]],_0x24D25[_blr_edit[473]])}}}else {if(_0x27369== 0&& _0x27179[_blr_edit[8]]== 10){var _0x27043=removeSingleLine(_0x24D25);if(_0x27043){drawSingleLine(_0x27233,_0x27271,_0x271F5,_0x271B7,_0x24D25,_0x24E5B,0,_0x24D25[_blr_edit[300]],_0x24D25[_blr_edit[473]])}}}}};function isMinXWithSameTime(_0x24D25){for(var _0x24CA9=0;_0x24CA9< syms[_blr_edit[21]];_0x24CA9++){var _0x2A3D9=syms[_0x24CA9];if(_0x2A3D9&& _0x24D25[_blr_edit[8]]== 10&& _0x24D25[_blr_edit[300]]== _0x2A3D9[_blr_edit[300]]&& _0x24D25[_blr_edit[174]]!= _0x2A3D9[_blr_edit[174]]&& (_0x2A3D9[_blr_edit[8]]== 10|| _0x2A3D9[_blr_edit[8]]== 8)){if(_0x24D25[_blr_edit[328]]< _0x2A3D9[_blr_edit[328]]){return true};return false}};return true}function removeSingleLine(_0x24D25){var _0x2A227= new RegExp(_blr_edit[474]+ _0x24D25[_blr_edit[300]]+ _blr_edit[475],_blr_edit[426]);var _0x2B1A7=abc[_blr_edit[476]]();var _0x24CE7=_0x2B1A7[_blr_edit[18]](_0x2A227);if(_0x24CE7!= null){for(var _0x24CA9=0;_0x24CA9< _0x24CE7[_blr_edit[21]];_0x24CA9++){_0x2B1A7= _0x2B1A7[_blr_edit[95]](_0x24CE7[_0x24CA9],_blr_edit[13])};abc[_blr_edit[477]](_0x2B1A7)};return true}function getValidNext(_0x24D25,_0x27179){if(_0x27179[_blr_edit[478]]|| (_0x27179&& _0x27179[_blr_edit[8]]!= 10&& _0x27179[_blr_edit[8]]!= 8&& _0x27179[_blr_edit[8]]!= 0)){while(_0x27179[_blr_edit[458]]){_0x27179= _0x27179[_blr_edit[458]];if(_0x27179[_blr_edit[478]]){continue};if(_0x27179[_blr_edit[8]]== 10|| _0x27179[_blr_edit[8]]== 8|| _0x27179[_blr_edit[8]]== 0){break}}};if(_0x27179[_blr_edit[300]]- _0x24D25[_blr_edit[300]]== 0&& _0x27179[_blr_edit[8]]== 10){_0x27179= _0x27179[_blr_edit[458]];return getValidNext(_0x24D25,_0x27179)};return _0x27179}function drawSingleLine(_0x27233,_0x27271,_0x271F5,_0x271B7,_0x24D25,_0x24E5B,_0x282E9,_0x283E1,_0x28327){_0x271F5= 2;var _0x283A3=_blr_edit[13];if(_0x24D25[_blr_edit[479]]){var _0x28365=_0x24D25[_blr_edit[479]][_blr_edit[174]];_0x283A3= _blr_edit[480]};abc[_blr_edit[60]](_blr_edit[474]+ _0x24D25[_blr_edit[300]]+ _blr_edit[481]+ _0x283E1+ _blr_edit[482]+ _0x28327+ _blr_edit[483]+ _0x283A3+ _blr_edit[484]+ ((_0x24D25[_blr_edit[485]]== 0&& _0x24D25[_blr_edit[486]]== 1)?_blr_edit[487]:_blr_edit[13])+ _blr_edit[58]+ _0x24D25[_blr_edit[174]]+ _blr_edit[488]+ _0x282E9+ _blr_edit[489]);abc[_blr_edit[64]](_0x27233,_blr_edit[62],_0x27271);abc[_blr_edit[60]](_blr_edit[78]+ _0x271F5[_blr_edit[79]](2)+ _blr_edit[80]+ abc[_blr_edit[61]](_0x271B7)[_blr_edit[79]](2)+ _blr_edit[81])}function renderSuccess(){renderTimeout= setTimeout(function(){var $events=$(_blr_edit[492])[_blr_edit[491]](_blr_edit[490]);$(_blr_edit[492])[_blr_edit[499]](_blr_edit[493],function(){if(!user[_blr_edit[494]]){return false};var _0x2B413=this[_blr_edit[441]]();var _0x2B451=document[_blr_edit[237]](_blr_edit[495]);$(_0x2B451)[_blr_edit[154]](_blr_edit[496],2)[_blr_edit[154]](_blr_edit[278],_blr_edit[274]);$(_blr_edit[249])[_blr_edit[497]]($(_0x2B451));var $self=$(this);$(_0x2B451)[_blr_edit[128]](getAllTitle())[_blr_edit[154]]({left:_0x2B413[_blr_edit[388]],top:_0x2B413[_blr_edit[6]],width:_0x2B413[_blr_edit[327]]< 200?200:_0x2B413[_blr_edit[327]],height:_0x2B413[_blr_edit[324]]< 80?80:_0x2B413[_blr_edit[324]]})[_blr_edit[395]]()[_blr_edit[164]]()[_blr_edit[499]](_blr_edit[220],function(){$self[_blr_edit[66]]($(this)[_blr_edit[128]]());$(_blr_edit[498])[_blr_edit[128]]($(this)[_blr_edit[128]]());set(_blr_edit[241],$(this)[_blr_edit[128]]());$(this)[_blr_edit[154]](_blr_edit[23],_blr_edit[115]);src_change()})});$(_blr_edit[502])[_blr_edit[499]](_blr_edit[493],function(){if(!user[_blr_edit[494]]){return false};var _0x2B413=this[_blr_edit[441]]();var _0x2B451=document[_blr_edit[237]](_blr_edit[495]);$(_0x2B451)[_blr_edit[154]](_blr_edit[496],2)[_blr_edit[154]](_blr_edit[278],_blr_edit[274]);$(_blr_edit[249])[_blr_edit[497]]($(_0x2B451));var $self=$(this);$(_0x2B451)[_blr_edit[128]]($(_blr_edit[500])[_blr_edit[128]]())[_blr_edit[154]]({left:_0x2B413[_blr_edit[388]]- 100,top:_0x2B413[_blr_edit[6]]- 50,width:_0x2B413[_blr_edit[327]]+ 100,height:_0x2B413[_blr_edit[324]]+ 80})[_blr_edit[395]]()[_blr_edit[164]]()[_blr_edit[499]](_blr_edit[220],function(){$(_blr_edit[500])[_blr_edit[128]]($(this)[_blr_edit[128]]());set(_blr_edit[501],$(this)[_blr_edit[128]]());src_change();$(this)[_blr_edit[283]]()})});$(_blr_edit[504])[_blr_edit[250]](function(_0x27AEB){console[_blr_edit[146]](_0x27AEB[_blr_edit[328]]);_0x27AEB[_blr_edit[203]]();_0x27AEB[_blr_edit[503]]()});try{renderByBarIndex(bgBar);renderNoteBgColor();renderLyricBgColor();renderMySlur(_blr_edit[505]);renderMySlur(_blr_edit[506]);renderMySlur(_blr_edit[507]);renderMyBracketGch();renderMyText();if(lyricStandV!= 0&& standVsyms== null){standVsyms= getStandVsyms()}}catch(err){console[_blr_edit[146]](err)}finally{try{bgBar=  new Array()}catch(e){console[_blr_edit[146]](e)}}},100);if(user[_blr_edit[509]][_blr_edit[508]]){user[_blr_edit[509]][_blr_edit[508]]= false;if(graphEditor[_blr_edit[510]]&&  typeof (graphEditor[_blr_edit[510]][_blr_edit[509]])== _blr_edit[22]){graphEditor[_blr_edit[510]][_blr_edit[509]](user[_blr_edit[509]][_blr_edit[174]],user[_blr_edit[509]][_blr_edit[511]],user[_blr_edit[509]][_blr_edit[273]],true,false,user[_blr_edit[509]][_blr_edit[512]])};if(user[_blr_edit[509]][_blr_edit[513]]){var _0x2B359=syms[user[_blr_edit[509]][_blr_edit[174]]];var _0x27005=20;while(_0x27005> 0&& _0x2B359&& _0x2B359[_blr_edit[514]]&& (_0x2B359[_blr_edit[514]][_blr_edit[8]]== 8|| _0x2B359[_blr_edit[514]][_blr_edit[8]]== 10)){_0x2B359= _0x2B359[_blr_edit[514]];graphEditor[_blr_edit[510]][_blr_edit[509]](_0x2B359[_blr_edit[174]],user[_blr_edit[509]][_blr_edit[511]],user[_blr_edit[509]][_blr_edit[273]],true);_0x27005--}};user[_blr_edit[509]][_blr_edit[513]]= false;user[_blr_edit[509]][_blr_edit[511]]= null;user[_blr_edit[509]][_blr_edit[273]]= 0;user[_blr_edit[509]][_blr_edit[512]]= false};if($(_blr_edit[515])[_blr_edit[21]]> 0){if($(_blr_edit[129])[_blr_edit[128]]()[_blr_edit[36]](_blr_edit[516])>  -1){$(_blr_edit[515])[_blr_edit[154]](_blr_edit[23],_blr_edit[13])}else {$(_blr_edit[515])[_blr_edit[154]](_blr_edit[23],_blr_edit[115])}}}function editorAnnot(_0x24D63){console[_blr_edit[146]](_blr_edit[517]);if(!user[_blr_edit[518]]){return};if($(_blr_edit[519]+ _0x24D63+ _blr_edit[393])[_blr_edit[21]]> 0){for(var _0x24CA9=0;_0x24CA9< syms[_blr_edit[21]];_0x24CA9++){var _0x25751=syms[_0x24CA9];if(_0x25751){if(_0x25751[_blr_edit[520]]){var _0x289EF=_0x25751[_blr_edit[520]];for(var _0x25887=0;_0x25887< _0x289EF[_blr_edit[21]];_0x25887++){var _0x289B1=_0x289EF[_0x25887];if(_0x289B1&& _0x289B1[_blr_edit[174]]== _0x24D63){$(_blr_edit[521]+ _0x25751[_blr_edit[174]]+ _blr_edit[393])[_blr_edit[390]](_blr_edit[389]);createLyricEditor();return}}}}};return};console[_blr_edit[146]](_blr_edit[522],syms[_0x24D63][_blr_edit[8]]);if(syms[_0x24D63][_blr_edit[8]]== 14){var _0x24D25=syms[_0x24D63];if(_0x24D25[_blr_edit[523]]){$(_blr_edit[524])[_blr_edit[128]](_0x24D25[_blr_edit[523]])};$(_blr_edit[524])[_blr_edit[168]](_blr_edit[174],_0x24D63);$(_blr_edit[525])[_blr_edit[154]](_blr_edit[388],($(window)[_blr_edit[327]]()- $(_blr_edit[525])[_blr_edit[327]]())/ 2);$(_blr_edit[528])[_blr_edit[527]](_blr_edit[526]);return};var _0x28973=false;if(syms[_0x24D63][_blr_edit[8]]== 8|| syms[_0x24D63][_blr_edit[8]]== 10){_0x28973= true};if(!_0x28973){return};$(_blr_edit[529])[_blr_edit[128]](_0x24D63);var _0x24D25=syms[_0x24D63];var _0x28935=_0x24D25[_blr_edit[65]];var _0x24BEF=_blr_edit[13];var _0x28A2D=_blr_edit[13];var _0x288B9=_blr_edit[13];if(_0x28935){for(var _0x24CA9=0;_0x24CA9< _0x28935[_blr_edit[21]];_0x24CA9++){_0x24BEF+= _0x28935[_0x24CA9][_blr_edit[66]];_0x28A2D= _0x28935[_0x24CA9][_blr_edit[8]];_0x288B9= _0x28935[_0x24CA9][_blr_edit[530]];if(_0x24CA9!= _0x28935[_blr_edit[21]]- 1){_0x24BEF+= _blr_edit[122]}}};if(_0x24BEF[_blr_edit[36]](_blr_edit[531])>  -1){var _0x25CA5=/\[(font-size:.*)\]/[_blr_edit[239]](_0x24BEF);var _0x288F7=_blr_edit[13];if(_0x25CA5!= null){_0x288F7= /\[font-size:(.*)\]/[_blr_edit[239]](_0x24BEF)[1];_0x24BEF= _0x24BEF[_blr_edit[95]](/\[(font-size:.*)\]/,_blr_edit[13])};_0x24BEF= _0x24BEF[_blr_edit[95]](/\[(font-size:.*)\]/,_blr_edit[13])};_0x24BEF= getGchCoorInfo(_0x24BEF);if(_0x288F7&& _0x288F7!= _blr_edit[13]){$(_blr_edit[532])[_blr_edit[128]](_0x288F7)};$(_blr_edit[535]+ _0x28A2D+ _blr_edit[393])[_blr_edit[534]](_blr_edit[533],_blr_edit[533]);if(_0x288B9== _blr_edit[536]){$(_blr_edit[537])[_blr_edit[534]](_blr_edit[533],_blr_edit[533])}else {$(_blr_edit[538])[_blr_edit[534]](_blr_edit[533],_blr_edit[533])};$(_blr_edit[539])[_blr_edit[128]](_0x24BEF);var _0x251FD=_0x24D25[_blr_edit[174]];$(_blr_edit[540]+ _0x251FD+ _blr_edit[393])[_blr_edit[390]](_blr_edit[389]);$(_blr_edit[541])[_blr_edit[154]](_blr_edit[388],($(window)[_blr_edit[327]]()- $(_blr_edit[541])[_blr_edit[327]]())/ 2);$(_blr_edit[542])[_blr_edit[527]]()}function getGchCoorInfo(_0x24BEF){var _0x2958F=_blr_edit[13];$(_blr_edit[543])[_blr_edit[128]](_blr_edit[13]);$(_blr_edit[544])[_blr_edit[128]](_blr_edit[13]);$(_blr_edit[545])[_blr_edit[128]](_blr_edit[13]);if(xcoorGchReg[_blr_edit[67]](_0x24BEF)|| ycoorGchReg[_blr_edit[67]](_0x24BEF)){var _0x299AD=xcoorGchReg[_blr_edit[239]](_0x24BEF);var _0x29A29=ycoorGchReg[_blr_edit[239]](_0x24BEF);var _0x299EB=0;var _0x29A67=0;if(_0x299AD!= null){_0x2958F= _0x299AD[0];_0x299EB= parseInt(_0x299AD[1]);$(_blr_edit[543])[_blr_edit[128]](_0x299EB);_0x24BEF= _0x24BEF[_blr_edit[95]](xcoorGchReg,_blr_edit[13])};if(_0x29A29!= null){_0x2958F= _0x29A29[0];_0x29A67= parseInt(_0x29A29[1]);$(_blr_edit[544])[_blr_edit[128]](_0x29A67);_0x24BEF= _0x24BEF[_blr_edit[95]](ycoorGchReg,_blr_edit[13])};$(_blr_edit[545])[_blr_edit[128]](_0x2958F)};return _0x24BEF}function saveZs(){var _0x251FD=$(_blr_edit[529])[_blr_edit[128]]();var _0x28C5B=$(_blr_edit[539])[_blr_edit[128]]();var _0x288B9=$(_blr_edit[546])[_blr_edit[128]]();var _0x28A2D=$(_blr_edit[547])[_blr_edit[128]]();var _0x29741=_0x28C5B[_blr_edit[166]](_blr_edit[122]);if(_0x251FD!= _blr_edit[13]){_0x251FD= parseInt(_0x251FD);var _0x24D25=syms[_0x251FD];var _0x24BEF=_blr_edit[13];var _0x288F7=$(_blr_edit[532])[_blr_edit[128]]();var _0x2958F=genGchCoorStr();for(var _0x24CA9=0;_0x24CA9< _0x29741[_blr_edit[21]];_0x24CA9++){if(_0x29741[_0x24CA9]!= _blr_edit[13]){_0x24BEF+= _blr_edit[435];_0x24BEF+= _0x28A2D+ _0x288B9;if(_0x288F7!= _blr_edit[257]){_0x24BEF+= _blr_edit[531]+ _0x288F7+ _blr_edit[548]};_0x24BEF+= _0x29741[_0x24CA9]+ _0x2958F+ _blr_edit[435]}};var _0x28CD7=$(_blr_edit[129])[_blr_edit[128]]();_0x28CD7= _0x28CD7[_blr_edit[176]](0,_0x24D25[_blr_edit[174]])+ _0x24BEF+ _0x28CD7[_blr_edit[176]](_0x24D25[_blr_edit[174]]);var _0x28935=_0x24D25[_blr_edit[65]];if(_0x28935!= null){for(var _0x24CA9=_0x28935[_blr_edit[21]]- 1;_0x24CA9>= 0;_0x24CA9--){var _0x2B9E3=_0x28935[_0x24CA9];_0x28CD7= _0x28CD7[_blr_edit[176]](0,_0x2B9E3[_blr_edit[174]])+ _0x28CD7[_blr_edit[176]](_0x2B9E3[_blr_edit[175]])}};$(_blr_edit[129])[_blr_edit[128]](_0x28CD7);src_change();doLog()}}function genGchCoorStr(){var _0x295CD=$(_blr_edit[543])[_blr_edit[128]]();var _0x2960B=$(_blr_edit[544])[_blr_edit[128]]();var _0x2958F=_blr_edit[13];if(_0x295CD!= _blr_edit[13]){_0x2958F= _blr_edit[549]+ _0x295CD};if(_0x2960B!= _blr_edit[13]){if(_0x2958F!= _blr_edit[13]){_0x2958F+= _blr_edit[550]+ _0x2960B}else {_0x2958F= _blr_edit[551]+ _0x2960B}};if(_0x2958F!= _blr_edit[13]){_0x2958F+= _blr_edit[552]};return _0x2958F}function renderMyText(){var _0x28CD7=$(_blr_edit[129])[_blr_edit[128]]();var _0x2A227=/%%beginmytext([\n\r\s\S]*)%%endmytext/;var _0x24CE7=_0x28CD7[_blr_edit[18]](_0x2A227);if(_0x24CE7!= null){var _0x28D15=_0x24CE7[1][_blr_edit[166]](_blr_edit[122]);if(_0x28D15!= null&& _0x28D15[_blr_edit[21]]> 0){for(var _0x24CA9=0;_0x24CA9< _0x28D15[_blr_edit[21]];_0x24CA9++){var _0x24A3D=_0x28D15[_0x24CA9];if(_0x24A3D[_blr_edit[95]](/\s/g,_blr_edit[13])!= _blr_edit[13]){var _0x27B29=JSON[_blr_edit[349]](_0x24A3D);console[_blr_edit[146]](_0x27B29);var _0x29FBB=$(_blr_edit[553]+ _0x27B29[_blr_edit[554]]+ _blr_edit[393]);addText2Svg(_0x27B29[_blr_edit[328]]* 1.4/ scale,_0x27B29[_blr_edit[439]],_0x29FBB,_0x27B29[_blr_edit[66]],_0x27B29[_blr_edit[555]])}}}}}

function clickBar(_0x251FD,_0x27AEB){
    if(graph_update){
        $(_blr_edit[558])[_blr_edit[154]](_blr_edit[221],_blr_edit[226])[_blr_edit[557]](_blr_edit[556]);
        $(_blr_edit[559])[_blr_edit[283]]();
        $(_blr_edit[126])[_blr_edit[125]]();
        $(_blr_edit[394]+ _0x251FD+ _blr_edit[393])[_blr_edit[154]](_blr_edit[221],_blr_edit[560])[_blr_edit[168]](_blr_edit[556],_blr_edit[556]);
        showProperties(_blr_edit[561],_0x27AEB);
        console[_blr_edit[146]](_0x251FD);
        _0x27AEB[_blr_edit[203]]();
        _0x27AEB[_blr_edit[503]]();
        return false
    }
}