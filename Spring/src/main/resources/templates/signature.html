<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<meta charset="utf-8">
<meta name="context-path" th:content="@{/}"/>
<style type="text/css">
    a{text-decoration:none;}
    a:hover{ text-decoration:none;}
    #box{
        width: 100%;
        height: 400px;
        border: 1px solid #eaeaea;
    }
    canvas{
        height: 400px !important;
    }
    .abspan{
        color: #ffffff;
        display: block;
        width: 100px;
        font-size: 16px;
        text-align: center;
        line-height: 40px;
        background: dodgerblue;
        margin-bottom: 10px;
    }
</style>

<body>
<div style="margin: 12px;">
     <form>
        <div class="form-group">
            <label class="col-sm-3 control-label">签名</label>
            <div class="col-sm-8">
                <div id="box">
                </div>
                <span class="abspan" id="su">确认</span>
                <span class="abspan" id="re">重置</span>
                <img src="" alt="" id="image">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-8 col-sm-offset-3">
                <a id="save" class="btn btn-primary" οnclick="javascript:save()">提交</a>
			</div>
        </div>
    </form>

</div>

<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript"th:src="@{/js/jSignature.min.js}"></script>
<script type="text/javascript"th:src="@{/js/flashcanvas.js}"></script>
<script>
    $(function() {
        $("#box").jSignature();//初始化签名面板
    });
 
	function save() {
	   alert("Not implement yet!");
    }
    document.getElementById("su").onclick = function(){
        var datapair = $("#box").jSignature("getData", "image");
        //base64转码
        console.log('data:' + datapair[0] + "," + datapair[1])
        $("#image").attr('src','data:' + datapair[0] + "," + datapair[1]);
    }
  
    document.getElementById("re").onclick = function(){
        $("#box").jSignature("reset");
        $("#image").attr('src','');
    }
</script>
</body>
</html>
